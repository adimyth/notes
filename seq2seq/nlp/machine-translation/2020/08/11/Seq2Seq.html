<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.6.1 -->
<title>Word Level Seq2Seq Model | Notes</title>
<meta name="generator" content="Jekyll v4.0.0" />
<meta property="og:title" content="Word Level Seq2Seq Model" />
<meta name="author" content="Aditya Mishra" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Seq2Seq is an encoder-decoder network that maps an input sequence to an output sequence. The idea is to pass the summarized sentence as a hidden vector to the decoder and trying to predict the next state sequence from the previous sequence." />
<meta property="og:description" content="Seq2Seq is an encoder-decoder network that maps an input sequence to an output sequence. The idea is to pass the summarized sentence as a hidden vector to the decoder and trying to predict the next state sequence from the previous sequence." />
<link rel="canonical" href="/notes/seq2seq/nlp/machine-translation/2020/08/11/Seq2Seq.html" />
<meta property="og:url" content="/notes/seq2seq/nlp/machine-translation/2020/08/11/Seq2Seq.html" />
<meta property="og:site_name" content="Notes" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2020-08-11T00:00:00-05:00" />
<script type="application/ld+json">
{"author":{"@type":"Person","name":"Aditya Mishra"},"headline":"Word Level Seq2Seq Model","dateModified":"2020-08-11T00:00:00-05:00","description":"Seq2Seq is an encoder-decoder network that maps an input sequence to an output sequence. The idea is to pass the summarized sentence as a hidden vector to the decoder and trying to predict the next state sequence from the previous sequence.","datePublished":"2020-08-11T00:00:00-05:00","@type":"BlogPosting","url":"/notes/seq2seq/nlp/machine-translation/2020/08/11/Seq2Seq.html","mainEntityOfPage":{"@type":"WebPage","@id":"/notes/seq2seq/nlp/machine-translation/2020/08/11/Seq2Seq.html"},"@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/notes/assets/css/style.css"><link type="application/atom+xml" rel="alternate" href="/notes/feed.xml" title="Notes" /><!-- the google_analytics_id gets auto inserted from the config file -->



<script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','//www.google-analytics.com/analytics.js','ga');ga('create','UA-140233777-1','auto');ga('require','displayfeatures');ga('send','pageview');</script>

<link rel="shortcut icon" type="image/x-icon" href="/notes/images/favicon.ico"><!-- Begin Jekyll SEO tag v2.6.1 -->
<title>Word Level Seq2Seq Model | Notes</title>
<meta name="generator" content="Jekyll v4.0.0" />
<meta property="og:title" content="Word Level Seq2Seq Model" />
<meta name="author" content="Aditya Mishra" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Seq2Seq is an encoder-decoder network that maps an input sequence to an output sequence. The idea is to pass the summarized sentence as a hidden vector to the decoder and trying to predict the next state sequence from the previous sequence." />
<meta property="og:description" content="Seq2Seq is an encoder-decoder network that maps an input sequence to an output sequence. The idea is to pass the summarized sentence as a hidden vector to the decoder and trying to predict the next state sequence from the previous sequence." />
<link rel="canonical" href="/notes/seq2seq/nlp/machine-translation/2020/08/11/Seq2Seq.html" />
<meta property="og:url" content="/notes/seq2seq/nlp/machine-translation/2020/08/11/Seq2Seq.html" />
<meta property="og:site_name" content="Notes" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2020-08-11T00:00:00-05:00" />
<script type="application/ld+json">
{"author":{"@type":"Person","name":"Aditya Mishra"},"headline":"Word Level Seq2Seq Model","dateModified":"2020-08-11T00:00:00-05:00","description":"Seq2Seq is an encoder-decoder network that maps an input sequence to an output sequence. The idea is to pass the summarized sentence as a hidden vector to the decoder and trying to predict the next state sequence from the previous sequence.","datePublished":"2020-08-11T00:00:00-05:00","@type":"BlogPosting","url":"/notes/seq2seq/nlp/machine-translation/2020/08/11/Seq2Seq.html","mainEntityOfPage":{"@type":"WebPage","@id":"/notes/seq2seq/nlp/machine-translation/2020/08/11/Seq2Seq.html"},"@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->

<link href="https://unpkg.com/@primer/css/dist/primer.css" rel="stylesheet" />
<link rel="stylesheet" href="//use.fontawesome.com/releases/v5.0.7/css/all.css"><link type="application/atom+xml" rel="alternate" href="/notes/feed.xml" title="Notes" /><!-- the google_analytics_id gets auto inserted from the config file -->



<script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','//www.google-analytics.com/analytics.js','ga');ga('create','UA-140233777-1','auto');ga('require','displayfeatures');ga('send','pageview');</script>


    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.css" integrity="sha384-zB1R0rpPzHqg7Kpt0Aljp8JPLqbXI3bhnPWROx27a9N0Ll6ZP/+DiW/UqRcLbRjq" crossorigin="anonymous">
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML"> </script>
    <script src="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.js" integrity="sha384-y23I5Q6l+B6vatafAwxRu/0oK/79VlbSz7Q9aiSZUvyWYIYsd+qj+o24G5ZU2zJz" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/contrib/auto-render.min.js" integrity="sha384-kWPLUVMOks5AQFrykwIup5lo0m3iMkkHrD0uJ4H5cjeGihAutqP0yW0J6dpFiVkI" crossorigin="anonymous"></script>
    <script>
    document.addEventListener("DOMContentLoaded", function() {
        renderMathInElement( document.body, {
        delimiters: [
            {left: "$$", right: "$$", display: true},
            {left: "[%", right: "%]", display: true},
            {left: "$", right: "$", display: false}
        ]}
        );
    });
    </script>


<script>
function wrap_img(fn) {
    if (document.attachEvent ? document.readyState === "complete" : document.readyState !== "loading") {
        var elements = document.querySelectorAll(".post img");
        Array.prototype.forEach.call(elements, function(el, i) {
            if (el.getAttribute("title") && (el.className != "emoji")) {
                const caption = document.createElement('figcaption');
                var node = document.createTextNode(el.getAttribute("title"));
                caption.appendChild(node);
                const wrapper = document.createElement('figure');
                wrapper.className = 'image';
                el.parentNode.insertBefore(wrapper, el);
                el.parentNode.removeChild(el);
                wrapper.appendChild(el);
                wrapper.appendChild(caption);
            }
        });
    } else { document.addEventListener('DOMContentLoaded', fn); }
}
window.onload = wrap_img;
</script>

<script>
    document.addEventListener("DOMContentLoaded", function(){
    // add link icon to anchor tags
    var elem = document.querySelectorAll(".anchor-link")
    elem.forEach(e => (e.innerHTML = '<i class="fas fa-link fa-xs"></i>'));
    });
</script>
</head><body><header class="site-header">

  <div class="wrapper"><a class="site-title" rel="author" href="/notes/">Notes</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/notes/_pages/about.html">About Me</a><a class="page-link" href="/notes/search/">Search</a><a class="page-link" href="/notes/categories/">Tags</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">Word Level Seq2Seq Model</h1><p class="page-description">Seq2Seq is an encoder-decoder network that maps an input sequence to an output sequence. The idea is to pass the summarized sentence as a hidden vector to the decoder and trying to predict the next state sequence from the previous sequence.</p><p class="post-meta post-meta-title"><time class="dt-published" datetime="2020-08-11T00:00:00-05:00" itemprop="datePublished">
        Aug 11, 2020
      </time>• 
          <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <span class="p-author h-card" itemprop="name">Aditya Mishra</span></span>
       • <span class="read-time" title="Estimated read time">
    
    
      37 min read
    
</span></p>

    
      <p class="category-tags"><i class="fas fa-tags category-tags-icon"></i></i> 
      
        <a class="category-tags-link" href="/notes/categories/#seq2seq">seq2seq</a>
        &nbsp;
      
        <a class="category-tags-link" href="/notes/categories/#nlp">nlp</a>
        &nbsp;
      
        <a class="category-tags-link" href="/notes/categories/#machine-translation">machine-translation</a>
        
      
      </p>
    

    
      
        <div class="pb-5 d-flex flex-wrap flex-justify-end">
          <div class="px-2">

    <a href="https://github.com/adimyth/notes/tree/master/_notebooks/Seq2Seq.ipynb" role="button" target="_blank">
<img class="notebook-badge-image" src="/notes/assets/badges/github.svg" alt="View On GitHub">
    </a>
</div>

          <div class="px-2">
    <a href="https://mybinder.org/v2/gh/adimyth/notes/master?filepath=_notebooks%2FSeq2Seq.ipynb" target="_blank">
        <img class="notebook-badge-image" src="/notes/assets/badges/binder.svg" alt="Open In Binder"/>
    </a>
</div>

          <div class="px-2">
    <a href="https://colab.research.google.com/github/adimyth/notes/blob/master/_notebooks/Seq2Seq.ipynb" target="_blank">
        <img class="notebook-badge-image" src="/notes/assets/badges/colab.svg" alt="Open In Colab"/>
    </a>
</div>
        </div>
      </header>

  <div class="post-content e-content" itemprop="articleBody">
    <ul class="section-nav">
<li class="toc-entry toc-h1"><a href="#Word-Level-Seq2Seq-Model">Word Level Seq2Seq Model </a>
<ul>
<li class="toc-entry toc-h2"><a href="#Encoder">Encoder </a></li>
<li class="toc-entry toc-h2"><a href="#Decoder">Decoder </a></li>
<li class="toc-entry toc-h2"><a href="#Dataset">Dataset </a></li>
<li class="toc-entry toc-h2"><a href="#Creating-Vocabulary">Creating Vocabulary </a></li>
<li class="toc-entry toc-h2"><a href="#Tokenization">Tokenization </a></li>
<li class="toc-entry toc-h2"><a href="#Train-Test-Split">Train-Test Split </a></li>
<li class="toc-entry toc-h2"><a href="#Generator">Generator </a></li>
<li class="toc-entry toc-h2"><a href="#Teacher-Forcing">Teacher Forcing </a>
<ul>
<li class="toc-entry toc-h3"><a href="#Example--">Example - </a></li>
<li class="toc-entry toc-h3"><a href="#Summary">Summary </a></li>
</ul>
</li>
<li class="toc-entry toc-h2"><a href="#Model">Model </a></li>
<li class="toc-entry toc-h2"><a href="#Training">Training </a></li>
<li class="toc-entry toc-h2"><a href="#Inference">Inference </a></li>
<li class="toc-entry toc-h2"><a href="#Decode-Sequence">Decode Sequence </a>
<ul>
<li class="toc-entry toc-h3"><a href="#Beam-Search-Decoding">Beam Search Decoding </a></li>
<li class="toc-entry toc-h3"><a href="#Utility-Function">Utility Function </a></li>
<li class="toc-entry toc-h3"><a href="#White-Distance">White Distance </a></li>
<li class="toc-entry toc-h3"><a href="#Training-Data">Training Data </a></li>
<li class="toc-entry toc-h3"><a href="#Testing-Data">Testing Data </a></li>
</ul>
</li>
</ul>
</li>
</ul><!--
#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: _notebooks/Seq2Seq.ipynb
-->

<div class="container" id="notebook-container">
        
    
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><a href="https://colab.research.google.com/github/adimyth/interesting_stuff/blob/master/nlp/spanish_english_seq2seq.ipynb" target="_parent"><img src="https://colab.research.google.com/assets/colab-badge.svg" alt="Open In Colab"></a></p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Word-Level-Seq2Seq-Model">
<a class="anchor" href="#Word-Level-Seq2Seq-Model" aria-hidden="true"><span class="octicon octicon-link"></span></a>Word Level Seq2Seq Model<a class="anchor-link" href="#Word-Level-Seq2Seq-Model"> </a>
</h1>
<p>Sequence-to-sequence Neural Machine Translation is an example of <em>Conditional Language Model.</em></p>
<ul>
<li>Language Model - Decoder is predicting the next word of the target sentence based on the sequence generated so far</li>
<li>Conditional - The predictions are <em>conditioned on the source sentence x</em> and the generated target seq</li>
</ul>
<p>It calculate $P(y|x)$ where $x$ is the source sentence &amp; $y$ is the target sentence.

$$P(y|x)=P(y_{1}|x)P(y_{2}|y_{1},x)P(y_{3}|y_{1},y_{2},x)...P(y_{T}|y_{1},...,y_{T-1},x)$$
</p>
<p>Any of the above term can be interpreted as <em>probability of next word, given target words so far and source sentence x</em></p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Encoder">
<a class="anchor" href="#Encoder" aria-hidden="true"><span class="octicon octicon-link"></span></a>Encoder<a class="anchor-link" href="#Encoder"> </a>
</h2>
<p><img src="https://guillaumegenthial.github.io/assets/img2latex/seq2seq_vanilla_encoder.svg" alt="Encoder"></p>
<h2 id="Decoder">
<a class="anchor" href="#Decoder" aria-hidden="true"><span class="octicon octicon-link"></span></a>Decoder<a class="anchor-link" href="#Decoder"> </a>
</h2>
<p><img src="https://guillaumegenthial.github.io/assets/img2latex/seq2seq_vanilla_decoder.svg" alt="Decoder"></p>
<p>Stepwise, the decoder operates as -</p>
<p><img src="https://i.imgur.com/sWRGsi4.png" alt="Decoder Operation"></p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Dataset">
<a class="anchor" href="#Dataset" aria-hidden="true"><span class="octicon octicon-link"></span></a>Dataset<a class="anchor-link" href="#Dataset"> </a>
</h2>
<p>English to Spanish Conversion - <a href="http://www.manythings.org/anki/spa-eng.zip">http://www.manythings.org/anki/spa-eng.zip</a></p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="o">!</span>wget http://www.manythings.org/anki/spa-eng.zip
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>--2020-04-20 06:06:41--  http://www.manythings.org/anki/spa-eng.zip
Resolving www.manythings.org (www.manythings.org)... 104.24.109.196, 104.24.108.196, 2606:4700:3033::6818:6dc4, ...
Connecting to www.manythings.org (www.manythings.org)|104.24.109.196|:80... connected.
HTTP request sent, awaiting response... 200 OK
Length: 4781548 (4.6M) [application/zip]
Saving to: ‘spa-eng.zip’

spa-eng.zip         100%[===================&gt;]   4.56M  3.06MB/s    in 1.5s    

2020-04-20 06:06:43 (3.06 MB/s) - ‘spa-eng.zip’ saved [4781548/4781548]

</pre>
</div>
</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="o">!</span>unzip -l spa-eng.zip
<span class="o">!</span>unzip spa-eng.zip
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>Archive:  spa-eng.zip
  Length      Date    Time    Name
---------  ---------- -----   ----
     1441  2020-03-15 02:17   _about.txt
 18493172  2020-03-15 02:17   spa.txt
---------                     -------
 18494613                     2 files
Archive:  spa-eng.zip
  inflating: _about.txt              
  inflating: spa.txt                 
</pre>
</div>
</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">Counter</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">from</span> <span class="nn">itertools</span> <span class="kn">import</span> <span class="n">islice</span>
<span class="kn">import</span> <span class="nn">math</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">random</span>
<span class="kn">import</span> <span class="nn">re</span>
<span class="kn">import</span> <span class="nn">requests</span>
<span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="nn">sns</span>
<span class="kn">import</span> <span class="nn">string</span>
<span class="kn">from</span> <span class="nn">string</span> <span class="kn">import</span> <span class="n">digits</span>
<span class="kn">from</span> <span class="nn">sklearn.utils</span> <span class="kn">import</span> <span class="n">shuffle</span>
<span class="kn">from</span> <span class="nn">sklearn.model_selection</span> <span class="kn">import</span> <span class="n">train_test_split</span>
<span class="kn">import</span> <span class="nn">tensorflow</span> <span class="k">as</span> <span class="nn">tf</span>
<span class="kn">from</span> <span class="nn">tensorflow.keras.callbacks</span> <span class="kn">import</span> <span class="n">CSVLogger</span><span class="p">,</span> <span class="n">EarlyStopping</span>
<span class="kn">from</span> <span class="nn">tensorflow.keras.layers</span> <span class="kn">import</span> <span class="n">Input</span><span class="p">,</span> <span class="n">LSTM</span><span class="p">,</span> <span class="n">Embedding</span><span class="p">,</span> <span class="n">Dense</span>
<span class="kn">from</span> <span class="nn">tensorflow.keras.models</span> <span class="kn">import</span> <span class="n">Model</span><span class="p">,</span> <span class="n">load_model</span>
<span class="kn">from</span> <span class="nn">tensorflow.keras.utils</span> <span class="kn">import</span> <span class="n">plot_model</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">tensorflow.python.framework.ops</span> <span class="kn">import</span> <span class="n">disable_eager_execution</span><span class="p">,</span> <span class="n">enable_eager_execution</span>
<span class="n">disable_eager_execution</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p></p>
<div class="flash">
    <svg class="octicon octicon-info" viewbox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 01-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 01-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg>
    <strong>Note: </strong>Disabling eager execution because all zeros mask raises some CuDNN kernel level issue. Refer <a href="https://github.com/tensorflow/tensorflow/issues/33148">here</a>
</div>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="o">%</span><span class="k">matplotlib</span> inline
<span class="n">sns</span><span class="o">.</span><span class="n">set_style</span><span class="p">(</span><span class="s2">"whitegrid"</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">lines</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_table</span><span class="p">(</span><span class="s1">'spa.txt'</span><span class="p">,</span> <span class="n">names</span><span class="o">=</span><span class="p">[</span><span class="s1">'english'</span><span class="p">,</span> <span class="s1">'spanish'</span><span class="p">,</span> <span class="s1">'attributes'</span><span class="p">])</span>
<span class="c1"># lines = pd.DataFrame({"english": ["Juan eats apples"], "spanish": ["Juan come manzanas"], "attributes": ""})</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">lines</span><span class="o">.</span><span class="n">shape</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>(123770, 3)</pre>
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">lines</span> <span class="o">=</span> <span class="n">lines</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">'attributes'</span><span class="p">])</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="n">lines</span><span class="o">.</span><span class="n">columns</span><span class="p">:</span>
    <span class="c1"># lowercase</span>
    <span class="n">lines</span><span class="p">[</span><span class="n">col</span><span class="p">]</span> <span class="o">=</span> <span class="n">lines</span><span class="p">[</span><span class="n">col</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">.</span><span class="n">lower</span><span class="p">())</span>
    <span class="c1"># remove quotes</span>
    <span class="n">lines</span><span class="p">[</span><span class="n">col</span><span class="p">]</span> <span class="o">=</span> <span class="n">lines</span><span class="p">[</span><span class="n">col</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="s2">"'"</span><span class="p">,</span> <span class="s2">""</span><span class="p">,</span> <span class="n">x</span><span class="p">))</span>
    <span class="c1"># remove punctuations</span>
    <span class="n">lines</span><span class="p">[</span><span class="n">col</span><span class="p">]</span> <span class="o">=</span> <span class="n">lines</span><span class="p">[</span><span class="n">col</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="s1">''</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">ch</span> <span class="k">for</span> <span class="n">ch</span> <span class="ow">in</span> <span class="n">x</span> <span class="k">if</span> <span class="n">ch</span> <span class="ow">not</span> <span class="ow">in</span> <span class="nb">set</span><span class="p">(</span><span class="n">string</span><span class="o">.</span><span class="n">punctuation</span><span class="p">)))</span>
    <span class="c1"># remove numbers</span>
    <span class="n">remove_digits</span> <span class="o">=</span> <span class="nb">str</span><span class="o">.</span><span class="n">maketrans</span><span class="p">(</span><span class="s1">''</span><span class="p">,</span> <span class="s1">''</span><span class="p">,</span> <span class="n">digits</span><span class="p">)</span>
    <span class="n">lines</span><span class="p">[</span><span class="n">col</span><span class="p">]</span> <span class="o">=</span> <span class="n">lines</span><span class="p">[</span><span class="n">col</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">.</span><span class="n">translate</span><span class="p">(</span><span class="n">remove_digits</span><span class="p">))</span>
    <span class="c1"># remove unnecessary spaces</span>
    <span class="n">lines</span><span class="p">[</span><span class="n">col</span><span class="p">]</span> <span class="o">=</span> <span class="n">lines</span><span class="p">[</span><span class="n">col</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">.</span><span class="n">strip</span><span class="p">())</span>
    <span class="n">lines</span><span class="p">[</span><span class="n">col</span><span class="p">]</span> <span class="o">=</span> <span class="n">lines</span><span class="p">[</span><span class="n">col</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="s2">" +"</span><span class="p">,</span> <span class="s2">" "</span><span class="p">,</span> <span class="n">x</span><span class="p">))</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># Add start and end tokens to target sequences</span>
<span class="n">lines</span><span class="p">[</span><span class="s1">'spanish'</span><span class="p">]</span> <span class="o">=</span> <span class="n">lines</span><span class="p">[</span><span class="s1">'spanish'</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span> <span class="p">:</span> <span class="s1">'START_ '</span><span class="o">+</span> <span class="n">x</span> <span class="o">+</span> <span class="s1">' _END'</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">pd</span><span class="o">.</span><span class="n">set_option</span><span class="p">(</span><span class="s1">'display.max_colwidth'</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">lines</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>english</th>
      <th>spanish</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>go</td>
      <td>START_ ve _END</td>
    </tr>
    <tr>
      <th>1</th>
      <td>go</td>
      <td>START_ vete _END</td>
    </tr>
    <tr>
      <th>2</th>
      <td>go</td>
      <td>START_ vaya _END</td>
    </tr>
    <tr>
      <th>3</th>
      <td>go</td>
      <td>START_ váyase _END</td>
    </tr>
    <tr>
      <th>4</th>
      <td>hi</td>
      <td>START_ hola _END</td>
    </tr>
    <tr>
      <th>5</th>
      <td>run</td>
      <td>START_ ¡corre _END</td>
    </tr>
    <tr>
      <th>6</th>
      <td>run</td>
      <td>START_ ¡corran _END</td>
    </tr>
    <tr>
      <th>7</th>
      <td>run</td>
      <td>START_ ¡corra _END</td>
    </tr>
    <tr>
      <th>8</th>
      <td>run</td>
      <td>START_ ¡corred _END</td>
    </tr>
    <tr>
      <th>9</th>
      <td>run</td>
      <td>START_ corred _END</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Creating-Vocabulary">
<a class="anchor" href="#Creating-Vocabulary" aria-hidden="true"><span class="octicon octicon-link"></span></a>Creating Vocabulary<a class="anchor-link" href="#Creating-Vocabulary"> </a>
</h2>
<p>Create vocabulary of english and spanish words</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># English Vocab</span>
<span class="n">all_eng_words</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
<span class="k">for</span> <span class="n">eng</span> <span class="ow">in</span> <span class="n">lines</span><span class="p">[</span><span class="s1">'english'</span><span class="p">]:</span>
    <span class="k">for</span> <span class="n">word</span> <span class="ow">in</span> <span class="n">eng</span><span class="o">.</span><span class="n">split</span><span class="p">():</span>
        <span class="k">if</span> <span class="n">word</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">all_eng_words</span><span class="p">:</span>
            <span class="n">all_eng_words</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">word</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"English Vocab: </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">all_eng_words</span><span class="p">)</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>English Vocab: 13475
</pre>
</div>
</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># Spanish Vocab</span>
<span class="n">all_spa_words</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
<span class="k">for</span> <span class="n">spa</span> <span class="ow">in</span> <span class="n">lines</span><span class="p">[</span><span class="s1">'spanish'</span><span class="p">]:</span>
    <span class="k">for</span> <span class="n">word</span> <span class="ow">in</span> <span class="n">spa</span><span class="o">.</span><span class="n">split</span><span class="p">():</span>
        <span class="k">if</span> <span class="n">word</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">all_spa_words</span><span class="p">:</span>
            <span class="n">all_spa_words</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">word</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Spanish Vocab: </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">all_spa_words</span><span class="p">)</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>Spanish Vocab: 27264
</pre>
</div>
</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># Max Length of source sequence</span>
<span class="n">lenght_list_eng</span><span class="o">=</span><span class="p">[]</span>
<span class="k">for</span> <span class="n">l</span> <span class="ow">in</span> <span class="n">lines</span><span class="p">[</span><span class="s1">'english'</span><span class="p">]:</span>
    <span class="n">lenght_list_eng</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">l</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">' '</span><span class="p">)))</span>
<span class="n">max_length_src</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="n">lenght_list_eng</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Max Length Sentence (English): </span><span class="si">{</span><span class="n">max_length_src</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>Max Length Sentence (English): 47
</pre>
</div>
</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># Max Length of target sequence</span>
<span class="n">lenght_list_spa</span><span class="o">=</span><span class="p">[]</span>
<span class="k">for</span> <span class="n">l</span> <span class="ow">in</span> <span class="n">lines</span><span class="p">[</span><span class="s1">'spanish'</span><span class="p">]:</span>
    <span class="n">lenght_list_spa</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">l</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">' '</span><span class="p">)))</span>
<span class="n">max_length_tar</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="n">lenght_list_spa</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Max Length Sentence (Spanish): </span><span class="si">{</span><span class="n">max_length_src</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>Max Length Sentence (Spanish): 47
</pre>
</div>
</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">matches</span> <span class="o">=</span> <span class="p">[</span><span class="n">i</span> <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">lenght_list_eng</span><span class="p">,</span> <span class="n">lenght_list_spa</span><span class="p">)</span> <span class="k">if</span> <span class="n">i</span> <span class="o">==</span> <span class="n">j</span><span class="p">]</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Number of matches: </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">matches</span><span class="p">)</span><span class="si">}</span><span class="s2"> (</span><span class="si">{</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">matches</span><span class="p">)</span><span class="o">*</span><span class="mi">100</span><span class="o">/</span><span class="n">lines</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2">)"</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>Number of matches: 13865 (11.20)
</pre>
</div>
</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">lines</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>english</th>
      <th>spanish</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>go</td>
      <td>START_ ve _END</td>
    </tr>
    <tr>
      <th>1</th>
      <td>go</td>
      <td>START_ vete _END</td>
    </tr>
    <tr>
      <th>2</th>
      <td>go</td>
      <td>START_ vaya _END</td>
    </tr>
    <tr>
      <th>3</th>
      <td>go</td>
      <td>START_ váyase _END</td>
    </tr>
    <tr>
      <th>4</th>
      <td>hi</td>
      <td>START_ hola _END</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">input_words</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">all_eng_words</span><span class="p">))</span>
<span class="n">target_words</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">all_spa_words</span><span class="p">))</span>
<span class="n">num_encoder_tokens</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">all_eng_words</span><span class="p">)</span>
<span class="n">num_decoder_tokens</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">all_spa_words</span><span class="p">)</span>
<span class="n">num_encoder_tokens</span><span class="p">,</span> <span class="n">num_decoder_tokens</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>(13475, 27264)</pre>
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">num_encoder_tokens</span> <span class="o">+=</span> <span class="mi">1</span> <span class="c1"># For zero padding</span>
<span class="n">num_decoder_tokens</span> <span class="o">+=</span> <span class="mi">1</span> <span class="c1"># For zero padding</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Tokenization">
<a class="anchor" href="#Tokenization" aria-hidden="true"><span class="octicon octicon-link"></span></a>Tokenization<a class="anchor-link" href="#Tokenization"> </a>
</h2>
</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">take</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">iterable</span><span class="p">):</span>
    <span class="s2">"Return first n items of the iterable as a list"</span>
    <span class="k">return</span> <span class="nb">list</span><span class="p">(</span><span class="n">islice</span><span class="p">(</span><span class="n">iterable</span><span class="p">,</span> <span class="n">n</span><span class="p">))</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">input_token_index</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">([(</span><span class="n">word</span><span class="p">,</span> <span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">word</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">input_words</span><span class="p">)])</span>
<span class="n">target_token_index</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">([(</span><span class="n">word</span><span class="p">,</span> <span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">word</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">target_words</span><span class="p">)])</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">n_items</span> <span class="o">=</span> <span class="n">take</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="n">input_token_index</span><span class="o">.</span><span class="n">items</span><span class="p">())</span>
<span class="k">for</span> <span class="n">k</span><span class="p">,</span><span class="n">v</span> <span class="ow">in</span> <span class="n">n_items</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="n">v</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>a 1
aardvark 2
aardvarks 3
aaron 4
aback 5
abandon 6
abandoned 7
abandoning 8
abate 9
abated 10
</pre>
</div>
</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">n_items</span> <span class="o">=</span> <span class="n">take</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="n">target_token_index</span><span class="o">.</span><span class="n">items</span><span class="p">())</span>
<span class="k">for</span> <span class="n">k</span><span class="p">,</span><span class="n">v</span> <span class="ow">in</span> <span class="n">n_items</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="n">v</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>START_ 1
_END 2
a 3
aabe 4
aah 5
aaron 6
abajo 7
abandona 8
abandonada 9
abandonadas 10
</pre>
</div>
</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">reverse_input_char_index</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">((</span><span class="n">i</span><span class="p">,</span> <span class="n">word</span><span class="p">)</span> <span class="k">for</span> <span class="n">word</span><span class="p">,</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">input_token_index</span><span class="o">.</span><span class="n">items</span><span class="p">())</span>
<span class="n">reverse_target_char_index</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">((</span><span class="n">i</span><span class="p">,</span> <span class="n">word</span><span class="p">)</span> <span class="k">for</span> <span class="n">word</span><span class="p">,</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">target_token_index</span><span class="o">.</span><span class="n">items</span><span class="p">())</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">lines</span> <span class="o">=</span> <span class="n">shuffle</span><span class="p">(</span><span class="n">lines</span><span class="p">)</span>
<span class="n">lines</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>english</th>
      <th>spanish</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>36217</th>
      <td>you are my best friend</td>
      <td>START_ eres mi mejor amigo _END</td>
    </tr>
    <tr>
      <th>118304</th>
      <td>if you do not have this program you can download it now</td>
      <td>START_ si usted no dispone de este programa puede descargarlo ahora _END</td>
    </tr>
    <tr>
      <th>47672</th>
      <td>she got married last year</td>
      <td>START_ se casó el año pasado _END</td>
    </tr>
    <tr>
      <th>32053</th>
      <td>can you climb the tree</td>
      <td>START_ ¿puedes trepar al árbol _END</td>
    </tr>
    <tr>
      <th>34632</th>
      <td>someone stole my money</td>
      <td>START_ alguien se voló mi plata _END</td>
    </tr>
    <tr>
      <th>93415</th>
      <td>we have till tomorrow night to decide</td>
      <td>START_ tenemos hasta mañana por la noche para decidirnos _END</td>
    </tr>
    <tr>
      <th>103998</th>
      <td>tom claimed he killed mary in selfdefense</td>
      <td>START_ tom alegó que mató a mary en defensa propia _END</td>
    </tr>
    <tr>
      <th>8167</th>
      <td>he is not young</td>
      <td>START_ él no es joven _END</td>
    </tr>
    <tr>
      <th>18336</th>
      <td>she wants to dance</td>
      <td>START_ ella quiere bailar _END</td>
    </tr>
    <tr>
      <th>112211</th>
      <td>im looking for someone who can speak portuguese</td>
      <td>START_ busco a alguien que sepa portugués _END</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Train-Test-Split">
<a class="anchor" href="#Train-Test-Split" aria-hidden="true"><span class="octicon octicon-link"></span></a>Train-Test Split<a class="anchor-link" href="#Train-Test-Split"> </a>
</h2>
</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">X</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">lines</span><span class="p">[</span><span class="s2">"english"</span><span class="p">],</span> <span class="n">lines</span><span class="p">[</span><span class="s2">"spanish"</span><span class="p">]</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">X_train</span><span class="p">,</span> <span class="n">X_test</span><span class="p">,</span> <span class="n">y_train</span><span class="p">,</span> <span class="n">y_test</span> <span class="o">=</span> <span class="n">train_test_split</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">test_size</span><span class="o">=</span><span class="mf">0.2</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">42</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">X_train</span><span class="o">.</span><span class="n">shape</span><span class="p">,</span> <span class="n">y_train</span><span class="o">.</span><span class="n">shape</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>((99016,), (99016,))</pre>
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">X_test</span><span class="o">.</span><span class="n">shape</span><span class="p">,</span> <span class="n">y_test</span><span class="o">.</span><span class="n">shape</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>((24754,), (24754,))</pre>
</div>

</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Generator">
<a class="anchor" href="#Generator" aria-hidden="true"><span class="octicon octicon-link"></span></a>Generator<a class="anchor-link" href="#Generator"> </a>
</h2>
</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">generate_batch</span><span class="p">(</span><span class="n">X</span><span class="o">=</span><span class="n">X_train</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">y_train</span><span class="p">,</span> <span class="n">batch_size</span><span class="o">=</span><span class="mi">128</span><span class="p">):</span>
    <span class="sd">''' Generate a batch of data '''</span>
    <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">X</span><span class="p">),</span> <span class="n">batch_size</span><span class="p">):</span>
            <span class="n">encoder_input_data</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="n">batch_size</span><span class="p">,</span> <span class="n">max_length_src</span><span class="p">),</span> <span class="n">dtype</span><span class="o">=</span><span class="s1">'float32'</span><span class="p">)</span>
            <span class="n">decoder_input_data</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="n">batch_size</span><span class="p">,</span> <span class="n">max_length_tar</span><span class="p">),</span> <span class="n">dtype</span><span class="o">=</span><span class="s1">'float32'</span><span class="p">)</span>
            <span class="n">decoder_target_data</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="n">batch_size</span><span class="p">,</span> <span class="n">max_length_tar</span><span class="p">,</span> <span class="n">num_decoder_tokens</span><span class="p">),</span> <span class="n">dtype</span><span class="o">=</span><span class="s1">'float32'</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="p">(</span><span class="n">input_text</span><span class="p">,</span> <span class="n">target_text</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">X</span><span class="p">[</span><span class="n">j</span><span class="p">:</span><span class="n">j</span><span class="o">+</span><span class="n">batch_size</span><span class="p">],</span> <span class="n">y</span><span class="p">[</span><span class="n">j</span><span class="p">:</span><span class="n">j</span><span class="o">+</span><span class="n">batch_size</span><span class="p">])):</span>
                <span class="k">for</span> <span class="n">t</span><span class="p">,</span> <span class="n">word</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">input_text</span><span class="o">.</span><span class="n">split</span><span class="p">()):</span>
                    <span class="n">encoder_input_data</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="n">t</span><span class="p">]</span> <span class="o">=</span> <span class="n">input_token_index</span><span class="p">[</span><span class="n">word</span><span class="p">]</span> <span class="c1"># encoder input seq</span>
                <span class="k">for</span> <span class="n">t</span><span class="p">,</span> <span class="n">word</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">target_text</span><span class="o">.</span><span class="n">split</span><span class="p">()):</span>
                    <span class="k">if</span> <span class="n">t</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">target_text</span><span class="o">.</span><span class="n">split</span><span class="p">())</span><span class="o">-</span><span class="mi">1</span><span class="p">:</span>
                        <span class="n">decoder_input_data</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="n">t</span><span class="p">]</span> <span class="o">=</span> <span class="n">target_token_index</span><span class="p">[</span><span class="n">word</span><span class="p">]</span> <span class="c1"># decoder input seq</span>
                    <span class="k">if</span> <span class="n">t</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">:</span>
                        <span class="c1"># decoder target sequence (one hot encoded)</span>
                        <span class="c1"># does not include the START_ token</span>
                        <span class="c1"># Offset by one timestep</span>
                        <span class="n">decoder_target_data</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="n">t</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span> <span class="n">target_token_index</span><span class="p">[</span><span class="n">word</span><span class="p">]]</span> <span class="o">=</span> <span class="mf">1.</span>
            <span class="k">yield</span><span class="p">([</span><span class="n">encoder_input_data</span><span class="p">,</span> <span class="n">decoder_input_data</span><span class="p">],</span> <span class="n">decoder_target_data</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Teacher-Forcing">
<a class="anchor" href="#Teacher-Forcing" aria-hidden="true"><span class="octicon octicon-link"></span></a>Teacher Forcing<a class="anchor-link" href="#Teacher-Forcing"> </a>
</h2>
<p>Teacher forcing works by using the actual or expected output from the training dataset at the current time step <code>y(t)</code> as input in the next time step <code>X(t+1)</code>, rather than the output generated by the network.</p>
<p>Decoder is trained to turn the target sequences into the same sequences but offset by one timestep in the future, a training process called "teacher forcing" in this context. Effectively, the decoder learns to generate targets <code>[t+1...]</code> given targets <code>[...t]</code>, conditioned on the input sequence.</p>
<h3 id="Example--">
<a class="anchor" href="#Example--" aria-hidden="true"><span class="octicon octicon-link"></span></a>Example -<a class="anchor-link" href="#Example--"> </a>
</h3>
<p>Suppose, we had only 1 sentence -</p>
<ul>
<li>
<code>English</code> - Juan eats apples</li>
<li>
<code>Spanish</code> - Juan come manzanas</li>
</ul>
<p>Hence, we had just 3 words in our English &amp; 5 in Spanish vocabulary.</p>

<pre><code>English Vocabulary
{'apples': 1, 'eats': 2, 'juan': 3}

Spanish Vocabulary
{'START_': 1, '_END': 2, 'come': 3, 'juan': 4, 'manzanas': 5}</code></pre>
<p>So our encoded input &amp; decoder input would look like -</p>

<pre><code>Encoder Input Data: [[3. 2. 1.]]

Decoder Input Data: [[1. 4. 3. 5. 0.]]</code></pre>
<p>As the target sentence has 5 words, at timestep <code>t</code> during training, we set the previous timestep's <code>t-1</code> actual output to 1. So essentially, we will have 5 target sentence.</p>

<pre><code>Decoder Target Data: 
[0. 0. 0. 0. 1. 0.] # juan
[0. 0. 0. 1. 0. 0.] # come
[0. 0. 0. 0. 0. 1.] # manzanas
[0. 0. 1. 0. 0. 0.] # _END
[0. 0. 0. 0. 0. 0.]</code></pre>
<h3 id="Summary">
<a class="anchor" href="#Summary" aria-hidden="true"><span class="octicon octicon-link"></span></a>Summary<a class="anchor-link" href="#Summary"> </a>
</h3>
<p>TS1 -</p>

<pre><code>Encoder Input Data - [3. 2. 1.]
Decoder Input Data: [1. 4. 3. 5. 0.]
Decoder Target Data: [0. 0. 0. 0. 1. 0.] # juan</code></pre>
<p>TS2 -</p>

<pre><code>Encoder Input Data - [3. 2. 1.]
Decoder Input Data: [1. 4. 3. 5. 0.]
Decoder Target Data: [0. 0. 0. 1. 0. 0.] # juan come</code></pre>
<p>TS3 -</p>

<pre><code>Encoder Input Data - [3. 2. 1.]
Decoder Input Data: [1. 4. 3. 5. 0.]
Decoder Target Data: [0. 0. 0. 0. 0. 1.] # juan come manzanas</code></pre>
<p>TS4 -</p>

<pre><code>Encoder Input Data - [3. 2. 1.]
Decoder Input Data: [1. 4. 3. 5. 0.]
Decoder Target Data: [0. 1. 0. 0. 0. 0.] # juan come manzanas _END</code></pre>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Model">
<a class="anchor" href="#Model" aria-hidden="true"><span class="octicon octicon-link"></span></a>Model<a class="anchor-link" href="#Model"> </a>
</h2>
</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">latent_dim</span> <span class="o">=</span> <span class="mi">100</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># ENCODER</span>
<span class="n">encoder_inputs</span> <span class="o">=</span> <span class="n">Input</span><span class="p">(</span><span class="n">shape</span><span class="o">=</span><span class="p">(</span><span class="kc">None</span><span class="p">,))</span>
<span class="n">enc_emb</span> <span class="o">=</span> <span class="n">Embedding</span><span class="p">(</span><span class="n">num_encoder_tokens</span><span class="p">,</span> <span class="n">latent_dim</span><span class="p">,</span> <span class="n">mask_zero</span><span class="o">=</span><span class="kc">True</span><span class="p">)(</span><span class="n">encoder_inputs</span><span class="p">)</span>
<span class="n">encoder_lstm</span> <span class="o">=</span> <span class="n">LSTM</span><span class="p">(</span><span class="n">latent_dim</span><span class="p">,</span> <span class="n">return_state</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">encoder_outputs</span><span class="p">,</span> <span class="n">state_h</span><span class="p">,</span> <span class="n">state_c</span> <span class="o">=</span> <span class="n">encoder_lstm</span><span class="p">(</span><span class="n">enc_emb</span><span class="p">)</span>
<span class="c1"># discard `encoder_outputs` and only keep the states.</span>
<span class="n">encoder_states</span> <span class="o">=</span> <span class="p">[</span><span class="n">state_h</span><span class="p">,</span> <span class="n">state_c</span><span class="p">]</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><code>mask_zero=True</code> - It treats '0' as a padding value. As per the docs, "If mask_zero is set to True, as a consequence, index 0 cannot be used in the vocabulary (input_dim should equal size of vocabulary + 1)". Which is why increased <code>num_encoder_tokens</code> &amp; <code>num_decoder_tokens</code> in cell 20</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># set up the decoder, using `encoder_states` as initial state.</span>
<span class="n">decoder_inputs</span> <span class="o">=</span> <span class="n">Input</span><span class="p">(</span><span class="n">shape</span><span class="o">=</span><span class="p">(</span><span class="kc">None</span><span class="p">,))</span>
<span class="n">dec_emb_layer</span> <span class="o">=</span> <span class="n">Embedding</span><span class="p">(</span><span class="n">num_decoder_tokens</span><span class="p">,</span> <span class="n">latent_dim</span><span class="p">,</span> <span class="n">mask_zero</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">dec_emb</span> <span class="o">=</span> <span class="n">dec_emb_layer</span><span class="p">(</span><span class="n">decoder_inputs</span><span class="p">)</span>
<span class="n">decoder_lstm</span> <span class="o">=</span> <span class="n">LSTM</span><span class="p">(</span><span class="n">latent_dim</span><span class="p">,</span> <span class="n">return_sequences</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">return_state</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">decoder_outputs</span><span class="p">,</span> <span class="n">dec_state_h</span><span class="p">,</span> <span class="n">dec_state_c</span> <span class="o">=</span> <span class="n">decoder_lstm</span><span class="p">(</span><span class="n">dec_emb</span><span class="p">,</span> <span class="n">initial_state</span><span class="o">=</span><span class="n">encoder_states</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>WARNING:tensorflow:Layer lstm_1 will not use cuDNN kernel since it doesn't meet the cuDNN kernel criteria. It will use generic GPU kernel as fallback when running on GPU
</pre>
</div>
</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">decoder_dense</span> <span class="o">=</span> <span class="n">Dense</span><span class="p">(</span><span class="n">num_decoder_tokens</span><span class="p">,</span> <span class="n">activation</span><span class="o">=</span><span class="s1">'softmax'</span><span class="p">)</span>
<span class="n">decoder_outputs</span> <span class="o">=</span> <span class="n">decoder_dense</span><span class="p">(</span><span class="n">decoder_outputs</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Here, we add a Dense Layer that uses softmax activation on top of decoder. Notice, how for the sample sentence - <code>Juan eats apples</code>, the output target at each timestep looks like -</p>

<pre><code>[0. 0. 0. 0. 1. 0.] # juan
[0. 0. 0. 1. 0. 0.] # juan come
[0. 0. 0. 0. 0. 1.] # juan come manzanas
[0. 1. 0. 0. 0. 0.] # juan come manzanas _end</code></pre>
<p>It is the job of the dense layer to predict this next word from the <em>decoder_outputs</em></p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Model will take encoder inputs &amp; decoder inputs and return decoder outputs</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">model</span> <span class="o">=</span> <span class="n">Model</span><span class="p">([</span><span class="n">encoder_inputs</span><span class="p">,</span> <span class="n">decoder_inputs</span><span class="p">],</span> <span class="n">decoder_outputs</span><span class="p">)</span>
<span class="n">model</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="n">optimizer</span><span class="o">=</span><span class="s1">'adam'</span><span class="p">,</span> <span class="n">loss</span><span class="o">=</span><span class="s1">'categorical_crossentropy'</span><span class="p">,</span> <span class="n">metrics</span><span class="o">=</span><span class="p">[</span><span class="s1">'acc'</span><span class="p">])</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">plot_model</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">show_shapes</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_png output_subarea output_execute_result">
<img src="data:image/png;base64,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WLlyJQ4cOIA9e/agtrYWFy9exNKlS+Hh4YHFixer2/r5+aG6uhp5eXlQqVSoqqrCtWvX2vTp4uKC8vJylJaWoq6uTl1ktbS04M6dO2hqasKFCxeQmJgILy8vxMXFGWSMgoICSafEVyqV8PHxQVlZWbuPFxcXw83NDdHR0W0ei4mJgZubG86ePdvpONr6adUaw8iRI3WMnoiIiCwJizKiHmbdunVITk7Ghg0bMGDAAEyaNAlPP/00CgsLYW9vr263bNkyTJ48GQsWLMDQoUOxceNG9eVxgYGB6qntly5dCldXVwQEBCA0NBTV1dUAHt3fNHLkSCgUCoSEhMDf3x9fffWVxj1Y3R1DamFhYbh06ZJ6/bDHaVsz7OHDh6isrER+fn6nY+iy9tiZM2fg6emJUaNGddqWiIiILA8vXyTqYWQyGf7whz/gD3/4g9Z2Li4uOHbsWJvt7777rsa/x44di9LS0jbtHBwcOjyLZIgxZs6cidraWq39G9trr72GtLQ05ObmIjY2VuOxIUOGdDgbYk5ODp5//nkMHjy40zG09QMAt2/fxpdffolNmzZBJpPptwNERERkEXimjIi6RNsEGJaooaEBR44cwdWrV9UTa/j5+WHDhg3YsGED7t27p1M/zc3NyMvLQ11dHWJiYrodV1JSEsaMGYP4+HgAj86slZeXo6ioSL3QNhEREVk2FmVERACqq6sxY8YM+Pv74+WXX1ZvX716NebPn4+YmBitk360KiwsRG5uLgoKCrSucaaL7du349y5czh8+LB67bL8/Hx4enoiJCQEhw4d6lb/REREZB5YlBGRXtasWYOMjAzU1NTA29sbOTk5UofUbR988AGEEOq/PXv2aDy+efNmxMfH45133um0rylTpmDv3r1wd3fvVkz5+fl48OABCgsL4ezsrN4+e/ZsjVhv3brVrXGIiIhIerynjIj0kpycjOTkZKnDMLnp06dj+vTpJhsvIiICERERJhuPiIiIpMMzZURERERERBJiUUZERERERCQhFmVEREREREQSYlFGREREREQkoR4/0UdZWRmys7OlDoOoS06ePAkA/D/cBa3HjoiIiMjcyYQQQuogjGX+/Pk9YrpuIiJDy8rKQlRUlNRhEBEREbC/RxdlROYiOzsb0dHR4NuNiIiIiJ6wn/eUERERERERSYhFGRERERERkYRYlBEREREREUmIRRkREREREZGEWJQRERERERFJiEUZERERERGRhFiUERERERERSYhFGRERERERkYRYlBEREREREUmIRRkREREREZGEWJQRERERERFJiEUZERERERGRhFiUERERERERSYhFGRERERERkYRYlBEREREREUmIRRkREREREZGEWJQRERERERFJiEUZERERERGRhFiUERERERERSYhFGRERERERkYRYlBEREREREUmIRRkREREREZGEWJQRERERERFJiEUZERERERGRhFiUERERERERSYhFGRERERERkYRYlBEREREREUmIRRkREREREZGEWJQRERERERFJiEUZERERERGRhFiUERERERERSYhFGRERERERkYRYlBEREREREUnIWuoAiHqasrIy/O53v0Nzc7N62507d+Dg4IDnn39eo+3QoUPxP//zPyaOkIiIiIjMCYsyIgMbNGgQrl27hpKSkjaP/f3vf9f498SJE00VFhERERGZKV6+SGQEL730EmxsbDptFxMTY4JoiIiIiMicsSgjMoKFCxeiqalJa5sRI0YgICDARBERERERkbliUUZkBL6+vhg1ahRkMlm7j9vY2OB3v/udiaMiIiIiInPEoozISF566SX06dOn3ceampowf/58E0dEREREROaIRRmRkSxYsAAtLS1ttltZWWHChAl4+umnTR8UEREREZkdFmVERuLh4YHnnnsOVlaabzMrKyu89NJLEkVFREREROaGRRmREf32t79ts00Igblz50oQDRERERGZIxZlREYUGRmpcV9Znz59MHXqVLi6ukoYFRERERGZExZlREbk7OyMadOmqQszIQRiY2MljoqIiIiIzAmLMiIji42NVU/4YWNjg9mzZ0scERERERGZExZlREYWHh4OOzs7AMCsWbPQt29fiSMiIiIiInPCoozIyOzt7dVnx3jpIhERERE9SSaEECYZSCYzxTBERGSmIiMjsX//fqnD6DGys7MRHR0tdRhERGbHAvPNfmtTjpaYmIjAwEBTDklkFpqbm5GVlYUXX3yxS8+Pjo7m+0dPO3bsAAC8/vrrEkdCwH9eDzK8rKwsqUMg6jLmN/0xv2lnqfnGpEVZYGAgoqKiTDkkkdmYM2cO5HJ5l54bHR3N94+eWn8h4zEzDxb2i6VF4f9xsmTMb/pjftPOUvMN7ykjMpGuFmRERERE1LOx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zG/aWWq+kQkhhCkG4n8c6s1+/vlnfPfdd5g5c6bUoRBJJjAwECtWrJA6jB7j5MmT2L59u9RhEAEACgoKMHbsWLNd1oN6FwvMN/tNVpQR9WbZ2dmIjo4G325ERNQTyWQyZGVlISoqSupQiCzRft5TRkREREREJCEWZURERERERBJiUUZERERERCQhFmVEREREREQSYlFGREREREQkIRZlREREREREEmJRRkREREREJCEWZURERERERBJiUUZERERERCQhFmVEREREREQSYlFGREREREQkIRZlREREREREEmJRRkREREREJCEWZURERERERBJiUUZERERERCQhFmVEREREREQSYlFGREREREQkIRZlREREREREEmJRRkREREREJCEWZURERERERBJiUUZERERERCQhFmVEREREREQSYlFGREREREQkIRZlREREREREEmJRRkREREREJCEWZURERERERBJiUUZERERERCQhFmVEREREREQSYlFGREREREQkIRZlREREREREEmJRRkREREREJCEWZURERERERBKyljoAop5GpVLh3r17Gtvq6+sBAHfu3NHYLpPJ0K9fP5PFRkRE1F13796FEKLN9vr6+jZ5rm/fvrCxsTFVaEQWSybae1cRUZdVVFTA09MTzc3NnbadPHkyjh07ZoKoiIiIDOOFF17AV1991Wm7Pn364ObNm3BzczNBVEQWbT8vXyQyMDc3N0ycOBFWVtrfXjKZDAsWLDBRVERERIaxYMECyGQyrW2srKwwceJEFmREOmJRRmQEv/3tbztt06dPH8ydO9cE0RARERlOZGQkrK213wEjk8nw0ksvmSgiIsvHoozICObNm6c1YfXp0wczZsxA//79TRgVERFR9zk7O2P69Ono06dPh22srKwwZ84cE0ZFZNlYlBEZgaOjI2bOnNlhYSaEQGxsrImjIiIiMozY2Fi0tLS0+5i1tTXCwsLg5ORk4qiILBeLMiIjiY2N7XCyD1tbW/zmN78xcURERESGER4eDjs7u3Yfa25u5g+PRHpiUUZkJL/5zW+gVCrbbLexscGcOXNgb28vQVRERETdp1QqMWfOnHanu1coFAgNDZUgKiLLxaKMyEjkcjnmzp3bJmGpVCosXLhQoqiIiIgM48UXX4RKpdLYZmNjg8jISCgUComiIrJMLMqIjKi9hOXo6Ihp06ZJ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%0A">
</div>

</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Training">
<a class="anchor" href="#Training" aria-hidden="true"><span class="octicon octicon-link"></span></a>Training<a class="anchor-link" href="#Training"> </a>
</h2>
</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">train_samples</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">X_train</span><span class="p">)</span>
<span class="n">val_samples</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">X_test</span><span class="p">)</span>
<span class="n">batch_size</span> <span class="o">=</span> <span class="mi">128</span>
<span class="n">epochs</span> <span class="o">=</span> <span class="mi">50</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">csvlogger</span> <span class="o">=</span> <span class="n">CSVLogger</span><span class="p">(</span><span class="s2">"training.log"</span><span class="p">)</span>
<span class="n">earlystopping</span> <span class="o">=</span> <span class="n">tf</span><span class="o">.</span><span class="n">keras</span><span class="o">.</span><span class="n">callbacks</span><span class="o">.</span><span class="n">EarlyStopping</span><span class="p">(</span><span class="n">monitor</span><span class="o">=</span><span class="s1">'val_loss'</span><span class="p">,</span> <span class="n">patience</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="n">callbacks</span> <span class="o">=</span> <span class="p">[</span><span class="n">csvlogger</span><span class="p">,</span> <span class="n">earlystopping</span><span class="p">]</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">history</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">fit_generator</span><span class="p">(</span><span class="n">generator</span> <span class="o">=</span> <span class="n">generate_batch</span><span class="p">(</span><span class="n">X_train</span><span class="p">,</span> <span class="n">y_train</span><span class="p">,</span> <span class="n">batch_size</span> <span class="o">=</span> <span class="n">batch_size</span><span class="p">),</span>
                    <span class="n">steps_per_epoch</span> <span class="o">=</span> <span class="n">train_samples</span><span class="o">//</span><span class="n">batch_size</span><span class="p">,</span>
                    <span class="n">epochs</span><span class="o">=</span><span class="n">epochs</span><span class="p">,</span>
                    <span class="n">validation_data</span> <span class="o">=</span> <span class="n">generate_batch</span><span class="p">(</span><span class="n">X_test</span><span class="p">,</span> <span class="n">y_test</span><span class="p">,</span> <span class="n">batch_size</span> <span class="o">=</span> <span class="n">batch_size</span><span class="p">),</span>
                    <span class="n">validation_steps</span> <span class="o">=</span> <span class="n">val_samples</span><span class="o">//</span><span class="n">batch_size</span><span class="p">,</span>
                    <span class="n">callbacks</span><span class="o">=</span><span class="n">callbacks</span>
                    <span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>WARNING:tensorflow:From &lt;ipython-input-42-c7455d30101d&gt;:6: Model.fit_generator (from tensorflow.python.keras.engine.training_v1) is deprecated and will be removed in a future version.
Instructions for updating:
Please use Model.fit, which supports generators.
Epoch 1/50
773/773 [==============================] - 434s 561ms/step - loss: 0.8506 - acc: 0.1638 - val_loss: 0.7588 - val_acc: 0.2107
Epoch 2/50
773/773 [==============================] - 436s 564ms/step - loss: 0.6943 - acc: 0.2561 - val_loss: 0.6517 - val_acc: 0.2900
Epoch 3/50
773/773 [==============================] - 435s 563ms/step - loss: 0.6062 - acc: 0.3210 - val_loss: 0.5916 - val_acc: 0.3357
Epoch 4/50
773/773 [==============================] - 434s 561ms/step - loss: 0.5472 - acc: 0.3637 - val_loss: 0.5486 - val_acc: 0.3686
Epoch 5/50
773/773 [==============================] - 434s 562ms/step - loss: 0.5002 - acc: 0.3994 - val_loss: 0.5149 - val_acc: 0.3968
Epoch 6/50
773/773 [==============================] - 433s 561ms/step - loss: 0.4612 - acc: 0.4302 - val_loss: 0.4895 - val_acc: 0.4196
Epoch 7/50
773/773 [==============================] - 435s 563ms/step - loss: 0.4284 - acc: 0.4568 - val_loss: 0.4689 - val_acc: 0.4367
Epoch 8/50
773/773 [==============================] - 435s 563ms/step - loss: 0.4000 - acc: 0.4807 - val_loss: 0.4523 - val_acc: 0.4519
Epoch 9/50
773/773 [==============================] - 436s 564ms/step - loss: 0.3749 - acc: 0.5024 - val_loss: 0.4377 - val_acc: 0.4657
Epoch 10/50
773/773 [==============================] - 436s 564ms/step - loss: 0.3524 - acc: 0.5225 - val_loss: 0.4265 - val_acc: 0.4763
Epoch 11/50
773/773 [==============================] - 437s 565ms/step - loss: 0.3322 - acc: 0.5404 - val_loss: 0.4169 - val_acc: 0.4862
Epoch 12/50
773/773 [==============================] - 437s 565ms/step - loss: 0.3137 - acc: 0.5580 - val_loss: 0.4084 - val_acc: 0.4944
Epoch 13/50
773/773 [==============================] - 435s 563ms/step - loss: 0.2968 - acc: 0.5741 - val_loss: 0.4029 - val_acc: 0.5006
Epoch 14/50
773/773 [==============================] - 435s 562ms/step - loss: 0.2812 - acc: 0.5896 - val_loss: 0.3967 - val_acc: 0.5082
Epoch 15/50
773/773 [==============================] - 434s 562ms/step - loss: 0.2669 - acc: 0.6042 - val_loss: 0.3921 - val_acc: 0.5133
Epoch 16/50
773/773 [==============================] - 434s 561ms/step - loss: 0.2537 - acc: 0.6189 - val_loss: 0.3874 - val_acc: 0.5192
Epoch 17/50
773/773 [==============================] - 434s 562ms/step - loss: 0.2413 - acc: 0.6333 - val_loss: 0.3843 - val_acc: 0.5247
Epoch 18/50
773/773 [==============================] - 435s 562ms/step - loss: 0.2301 - acc: 0.6472 - val_loss: 0.3814 - val_acc: 0.5277
Epoch 19/50
773/773 [==============================] - 438s 566ms/step - loss: 0.2199 - acc: 0.6596 - val_loss: 0.3797 - val_acc: 0.5306
Epoch 20/50
773/773 [==============================] - 436s 564ms/step - loss: 0.2105 - acc: 0.6717 - val_loss: 0.3777 - val_acc: 0.5337
Epoch 21/50
773/773 [==============================] - 434s 562ms/step - loss: 0.2015 - acc: 0.6836 - val_loss: 0.3774 - val_acc: 0.5347
Epoch 22/50
773/773 [==============================] - 434s 561ms/step - loss: 0.1934 - acc: 0.6950 - val_loss: 0.3774 - val_acc: 0.5353
Epoch 23/50
773/773 [==============================] - 434s 561ms/step - loss: 0.1859 - acc: 0.7051 - val_loss: 0.3753 - val_acc: 0.5392
Epoch 24/50
773/773 [==============================] - 433s 560ms/step - loss: 0.1788 - acc: 0.7154 - val_loss: 0.3758 - val_acc: 0.5415
Epoch 25/50
773/773 [==============================] - 433s 561ms/step - loss: 0.1724 - acc: 0.7238 - val_loss: 0.3782 - val_acc: 0.5405
Epoch 26/50
773/773 [==============================] - 433s 561ms/step - loss: 0.1664 - acc: 0.7326 - val_loss: 0.3779 - val_acc: 0.5428
</pre>
</div>
</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><strong>EarlyStopping callback clicked into gear at the end of epoch 26, as the validation loss only kept on increasing from 0.3753(epoch 23) to 0.3758(epoch 24), 0.3782(epoch 25) &amp; 0.3779(epoch 26)</strong></p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># summarize history for accuracy</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">history</span><span class="o">.</span><span class="n">history</span><span class="p">[</span><span class="s1">'acc'</span><span class="p">])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">history</span><span class="o">.</span><span class="n">history</span><span class="p">[</span><span class="s1">'val_acc'</span><span class="p">])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">'Model Accuracy'</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">'Accuracy'</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">'Epoch'</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">([</span><span class="s1">'Train'</span><span class="p">,</span> <span class="s1">'Validation'</span><span class="p">],</span> <span class="n">loc</span><span class="o">=</span><span class="s1">'upper left'</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_png output_subarea ">
<img src="data:image/png;base64,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%0A">
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># summarize history for loss</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">history</span><span class="o">.</span><span class="n">history</span><span class="p">[</span><span class="s1">'loss'</span><span class="p">])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">history</span><span class="o">.</span><span class="n">history</span><span class="p">[</span><span class="s1">'val_loss'</span><span class="p">])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">'Model loss'</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">'loss'</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">'epoch'</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">([</span><span class="s1">'train'</span><span class="p">,</span> <span class="s1">'test'</span><span class="p">],</span> <span class="n">loc</span><span class="o">=</span><span class="s1">'upper left'</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_png output_subarea ">
<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAYIAAAEWCAYAAABrDZDcAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEgAACxIB0t1+/AAAADh0RVh0U29mdHdhcmUAbWF0cGxvdGxpYiB2ZXJzaW9uMy4yLjEsIGh0dHA6Ly9tYXRwbG90bGliLm9yZy+j8jraAAAgAElEQVR4nO3deVxU9f7H8dcszLDvMiAgoOAK7lupoSiSoqGpLddcStNWLe3a8iu9165mlpVtltm10q5WZm5oVpprLuWGC5qiKKgMiiKLrDPz+2N0FFdEhgHm83w85sHMOd8z8/k2xptzvud8j8JkMpkQQghht5S2LkAIIYRtSRAIIYSdkyAQQgg7J0EghBB2ToJACCHsnASBEELYOQkCIcohPT2dRo0aUVpaetu2ixcv5tFHH73r9xGiqkgQiFonJiaGyMhIzp07V2Z5v379aNSoEenp6TaqTIjqSYJA1EqBgYEkJiZaXh86dIiCggIbViRE9SVBIGqlhIQElixZYnm9ZMkS+vXrV6ZNbm4uEyZMoGPHjnTr1o1PP/0Uo9EIgMFg4O2336ZDhw50796d9evXX7fta6+9RufOnenSpQvvv/8+BoPhjuvU6/U89dRTtG/fntjYWL7//nvLuqSkJB588EFat27Nvffey1tvvQVAUVERL730Eh06dKBt27YMGDCAs2fP3vFnC3GZ2tYFCGENLVu2ZOnSpaSkpBAaGkpiYiILFizggw8+sLR58803yc3N5bfffiM7O5sRI0ZQp04dBg0axPfff8/vv//OkiVLcHJy4vnnny/z/q+88go+Pj788ssvFBQUMHr0aAICAnjkkUfuqM5x48YRERHBxo0bOXr0KI8//jjBwcHcc889TJkyhaFDh9KvXz/y8/M5fPgwAD/99BN5eXmsW7cOjUZDcnIyjo6Od/8fTdgt2SMQtdblvYLNmzfToEEDdDqdZZ3BYGDlypWMHz8eV1dXgoKCePzxx1m2bBkAq1atYtiwYQQEBODp6cno0aMt2549e5b169fz2muv4ezsjI+PD8OHDy9zKKo8Tp8+zc6dO3nppZfQarU0adKEQYMGsXTpUgDUajUnTpzg3LlzuLi40LJlS8vy7Oxsjh8/jkqlIjIyEldX17v9zyXsmOwRiForISGBxx57jPT0dBISEsqsO3/+PCUlJdStW9eyrG7duuj1egAyMzMJCAgos+6yU6dOUVpaSufOnS3LjEZjmfblkZmZiYeHR5lf4nXr1mXfvn0ATJkyhQ8//JBevXoRFBTEc889R7du3UhISCAjI4Nx48aRk5PDAw88wIsvvoiDg8Mdfb4Ql0kQiForMDCQoKAg1q9fz5QpU8qs8/LywsHBgVOnThEeHg6Y/0K/vNdQp04dTp8+bWl/9XN/f380Gg1bt25Fra74/0J+fn5cuHCBvLw8SxhcXUNoaCjvvfceRqORX375hTFjxrBt2zacnZ157rnneO6550hPT2fUqFGEhYUxaNCgCtci7JscGhK12pQpU/j6669xdnYus1ylUnH//ffz/vvvk5eXx8mTJ5k7dy4PPPAAAL169WLevHlkZGRw4cIFZs+ebdnWz8+PTp06MW3aNPLy8jAajZw4cYLt27ffUW0BAQG0atWK9957j6KiIg4ePMiiRYssNSxdupRz586hVCpxd3cHQKlUsnXrVg4dOoTBYMDV1RW1Wo1SKf8ri4qTPQJRq9WrV++m69544w3efPNNevTogVarZdCgQQwYMACAhx56iNTUVBISEnBxcWHEiBFs3brVsu306dN599136d27N/n5+QQHB/Pkk0/ecX3vvfcekyZNokuXLri7u/P8889z7733ArBx40amTZtGYWEhdevW5f3338fR0ZGzZ88yadIk9Ho9zs7O9O7d+7pDX0LcCYXcmEYIIeyb7E8KIYSdkyAQQgg7J0EghBB2ToJACCHsXI07a2j37t1otdoKbVtUVFThbWsq6bN9kD7bh7vpc1FRkeXq9GvVuCC4fCl+RSQnJ1d425pK+mwfpM/24W76nJycfNN1cmhICCHsnASBEELYOQkCIYSwczVujOBGSkpKSE9Pp7Cw8LbtbnWcrLpzdHQkKChIZpkUQlSqWhEE6enpuLm5ERoaikKhuGm7goICnJycqrCyymMymcjKyiI9PZ2wsDBblyOEqEVqxaGhwsJCfHx8bhkCNZ1CocDHx+e2ez1CCHGnakUQALU6BC6zhz4KIaperQmC2ykxGMkrNtq6DCGEqHbsJgjyCks5nVtCUamh0t87JyeHb7/99o63e/LJJ8nJyan0eoQQ4k7YTRA4a1SAORAqW05ODgsWLLhueWnprT/riy++sNx5SgghbKVWnDVUHhq1EgelgryiUnxcK3d+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%0A">
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">model</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="s2">"english_to_spanish_nmt.h5"</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">model</span> <span class="o">=</span> <span class="n">load_model</span><span class="p">(</span><span class="s2">"english_to_spanish_nmt.h5"</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>WARNING:tensorflow:Layer lstm will not use cuDNN kernel since it doesn't meet the cuDNN kernel criteria. It will use generic GPU kernel as fallback when running on GPU
WARNING:tensorflow:Layer lstm_1 will not use cuDNN kernel since it doesn't meet the cuDNN kernel criteria. It will use generic GPU kernel as fallback when running on GPU
</pre>
</div>
</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">files</span><span class="o">.</span><span class="n">download</span><span class="p">(</span><span class="s2">"english_to_spanish_nmt.h5"</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">files</span><span class="o">.</span><span class="n">download</span><span class="p">(</span><span class="s2">"training.log"</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Inference">
<a class="anchor" href="#Inference" aria-hidden="true"><span class="octicon octicon-link"></span></a>Inference<a class="anchor-link" href="#Inference"> </a>
</h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><strong><em>Encoder Setup</em></strong></p>
<p>Encode the input sequence to get the encoder_states - <code>state_h &amp; state_c</code></p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">encoder_model</span> <span class="o">=</span> <span class="n">Model</span><span class="p">(</span><span class="n">encoder_inputs</span><span class="p">,</span> <span class="n">encoder_states</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><strong><em>Decoder setup</em></strong></p>
<p>Below tensors will hold the states of the previous time step. In case of the first sequence, assume -</p>
<blockquote>
<ol>
<li>decoder_state_input_c - state_c</li>
<li>decoder_state_input_h - state_h</li>
</ol>
</blockquote>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">decoder_state_input_h</span> <span class="o">=</span> <span class="n">Input</span><span class="p">(</span><span class="n">shape</span><span class="o">=</span><span class="p">(</span><span class="n">latent_dim</span><span class="p">,))</span>
<span class="n">decoder_state_input_c</span> <span class="o">=</span> <span class="n">Input</span><span class="p">(</span><span class="n">shape</span><span class="o">=</span><span class="p">(</span><span class="n">latent_dim</span><span class="p">,))</span>
<span class="n">decoder_states_inputs</span> <span class="o">=</span> <span class="p">[</span><span class="n">decoder_state_input_h</span><span class="p">,</span> <span class="n">decoder_state_input_c</span><span class="p">]</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Get the embedding of decoder output sequences. For the first sequence, it will return the embedded vector for <code>START_</code> - [1., 0., 0., 0., 0.]. If the next predicted word is Juan, it will then return the embedded vector for <code>Juan</code> - [0., 0., 0., 1., 0.]</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">dec_emb2</span> <span class="o">=</span> <span class="n">dec_emb_layer</span><span class="p">(</span><span class="n">decoder_inputs</span><span class="p">)</span> 
</pre></div>

    </div>
</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>To predict the next word in the sequence, set the initial states to the states from the previous time step</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">decoder_outputs2</span><span class="p">,</span> <span class="n">state_h2</span><span class="p">,</span> <span class="n">state_c2</span> <span class="o">=</span> <span class="n">decoder_lstm</span><span class="p">(</span><span class="n">dec_emb2</span><span class="p">,</span> <span class="n">initial_state</span><span class="o">=</span><span class="n">decoder_states_inputs</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Predict the next word in the sequence using the dense layer and choose the most probable word by selecting the word with most probability from the softmax probability distribution.</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">decoder_outputs2</span> <span class="o">=</span> <span class="n">decoder_dense</span><span class="p">(</span><span class="n">decoder_outputs2</span><span class="p">)</span> 
</pre></div>

    </div>
</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><strong><em>Final Decoder Model</em></strong></p>
<p>Inputs -</p>
<blockquote>
<ol>
<li>decoder_inputs - List of word</li>
<li>decoder_states_inputs - previous timestep's hidden state &amp; cell state</li>
</ol>
</blockquote>
<p>Outputs -</p>
<blockquote>
<ol>
<li>decoder_outputs2 - one-hot vector represeting the predicted word </li>
<li>decoder_states2 - current timestep's hidden state &amp; cell state</li>
</ol>
</blockquote>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">decoder_states2</span> <span class="o">=</span> <span class="p">[</span><span class="n">state_h2</span><span class="p">,</span> <span class="n">state_c2</span><span class="p">]</span>
<span class="n">decoder_model</span> <span class="o">=</span> <span class="n">Model</span><span class="p">(</span>
    <span class="p">[</span><span class="n">decoder_inputs</span><span class="p">]</span> <span class="o">+</span> <span class="n">decoder_states_inputs</span><span class="p">,</span>
    <span class="p">[</span><span class="n">decoder_outputs2</span><span class="p">]</span> <span class="o">+</span> <span class="n">decoder_states2</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Decode-Sequence">
<a class="anchor" href="#Decode-Sequence" aria-hidden="true"><span class="octicon octicon-link"></span></a>Decode Sequence<a class="anchor-link" href="#Decode-Sequence"> </a>
</h2>
</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># https://github.com/numpy/numpy/issues/15201#issue-543733072</span>

<span class="k">def</span> <span class="nf">categorical</span><span class="p">(</span><span class="n">p</span><span class="p">):</span>
    <span class="k">return</span> <span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">cumsum</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">uniform</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="n">p</span><span class="o">.</span><span class="n">shape</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">])[</span><span class="o">...</span><span class="p">,</span> <span class="kc">None</span><span class="p">])</span><span class="o">.</span><span class="n">argmax</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">decode_sequence</span><span class="p">(</span><span class="n">input_seq</span><span class="p">):</span>
    <span class="c1"># Encode the input as state vectors.</span>
    <span class="n">states_value</span> <span class="o">=</span> <span class="n">encoder_model</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">input_seq</span><span class="p">)</span>
    <span class="c1"># Generate empty target sequence of length 1.</span>
    <span class="n">target_seq</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">))</span>
    <span class="c1"># Populate the first character of target sequence with the start character.</span>
    <span class="n">target_seq</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">target_token_index</span><span class="p">[</span><span class="s1">'START_'</span><span class="p">]</span>

    <span class="c1"># Sampling loop for a batch of sequences</span>
    <span class="c1"># (to simplify, here we assume a batch of size 1).</span>
    <span class="n">stop_condition</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">decoded_sentence</span> <span class="o">=</span> <span class="s1">''</span>
    <span class="k">while</span> <span class="ow">not</span> <span class="n">stop_condition</span><span class="p">:</span>
        <span class="n">output_tokens</span><span class="p">,</span> <span class="n">h</span><span class="p">,</span> <span class="n">c</span> <span class="o">=</span> <span class="n">decoder_model</span><span class="o">.</span><span class="n">predict</span><span class="p">([</span><span class="n">target_seq</span><span class="p">]</span> <span class="o">+</span> <span class="n">states_value</span><span class="p">)</span>

        <span class="c1"># Sampling a token with max probability</span>
        <span class="n">sampled_token_index</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">argmax</span><span class="p">(</span><span class="n">output_tokens</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="p">:])</span>

        <span class="c1"># Sample from a categorical distribution</span>
        <span class="c1"># logits = output_tokens[0, -1, :]</span>
        <span class="c1"># sampled_token_index = categorical(np.reshape(logits, [-1, len(logits)]))[0]</span>
         
        <span class="n">sampled_char</span> <span class="o">=</span> <span class="n">reverse_target_char_index</span><span class="p">[</span><span class="n">sampled_token_index</span><span class="p">]</span>
        <span class="n">decoded_sentence</span> <span class="o">+=</span> <span class="s1">' '</span><span class="o">+</span><span class="n">sampled_char</span>

        <span class="c1"># Exit condition: either hit max length</span>
        <span class="c1"># or find stop character.</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">sampled_char</span> <span class="o">==</span> <span class="s1">'_END'</span> <span class="ow">or</span>
           <span class="nb">len</span><span class="p">(</span><span class="n">decoded_sentence</span><span class="p">)</span> <span class="o">&gt;</span> <span class="n">max_length_tar</span><span class="p">):</span>
            <span class="n">stop_condition</span> <span class="o">=</span> <span class="kc">True</span>

        <span class="c1"># Update the target sequence (of length 1).</span>
        <span class="n">target_seq</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">))</span>
        <span class="n">target_seq</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">sampled_token_index</span>

        <span class="c1"># Update states</span>
        <span class="n">states_value</span> <span class="o">=</span> <span class="p">[</span><span class="n">h</span><span class="p">,</span> <span class="n">c</span><span class="p">]</span>

    <span class="k">return</span> <span class="n">decoded_sentence</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Beam-Search-Decoding">
<a class="anchor" href="#Beam-Search-Decoding" aria-hidden="true"><span class="octicon octicon-link"></span></a>Beam Search Decoding<a class="anchor-link" href="#Beam-Search-Decoding"> </a>
</h3>
<p>Core idea is to keep track of the <strong><em>$k$ most probable</em></strong> partial translations. $k$ is the beam width (usually 5-10).</p>
<p>A hypothesis $y_{1}, y_{2}, y_{3}, ..., y_{t}$ has a <em>score</em> which is it's log probability:</p>
<p>
$$score(y_{1}, y_{2}, y_{3}, ..., y_{t})=\log P(y_{1}, y_{2}, y_{3}, ..., y_{t}|x)=\sum_{i=1}^{t}\log P(y_{i}|y_{1}, y_{2}, y_{3}, ..., y_{i-1}|x)$$
</p>
<ul>
<li>Scores are all negative, as we are taking log of probabilities (0-1)</li>
<li>We search for high scoring hypothesis, <strong><em>keeping track of top k only</em></strong> at each step</li>
</ul>
<p><strong>STOPPING CRITERIA</strong></p>
<p>Since, different hypothesis may produce $&lt;END&gt;$ token at different timesteps. Therefore,</p>
<ol>
<li>Once a hypothesis produces $&lt;END&gt;$ token, we regard it complete.</li>
<li>We then discard it and continue exploring other hypothesis.</li>
</ol>
<p>We usually stop when,</p>
<ol>
<li>We have say <em>n</em> words or sequence is say of length 50 or 100, etc.</li>
<li>We have certain number of completed hypothesis.</li>
</ol>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">beam_search_decoder</span><span class="p">(</span><span class="n">predictions</span><span class="p">,</span> <span class="n">top_k</span> <span class="o">=</span> <span class="mi">3</span><span class="p">):</span>
    <span class="c1">#start with an empty sequence with zero score</span>
    <span class="n">output_sequences</span> <span class="o">=</span> <span class="p">[([],</span> <span class="mi">0</span><span class="p">)]</span>
    
    <span class="c1">#looping through all the predictions</span>
    <span class="k">for</span> <span class="n">token_probs</span> <span class="ow">in</span> <span class="n">predictions</span><span class="p">:</span>
        <span class="n">new_sequences</span> <span class="o">=</span> <span class="p">[]</span>
        
        <span class="c1">#append new tokens to old sequences and re-score</span>
        <span class="k">for</span> <span class="n">old_seq</span><span class="p">,</span> <span class="n">old_score</span> <span class="ow">in</span> <span class="n">output_sequences</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">char_index</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">token_probs</span><span class="p">)):</span>
                <span class="n">new_seq</span> <span class="o">=</span> <span class="n">old_seq</span> <span class="o">+</span> <span class="p">[</span><span class="n">char_index</span><span class="p">]</span>
                <span class="c1">#considering log-likelihood for scoring</span>
                <span class="n">new_score</span> <span class="o">=</span> <span class="n">old_score</span> <span class="o">+</span> <span class="n">math</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">token_probs</span><span class="p">[</span><span class="n">char_index</span><span class="p">])</span>
                <span class="n">new_sequences</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">new_seq</span><span class="p">,</span> <span class="n">new_score</span><span class="p">))</span>
                
        <span class="c1"># sort all new sequences in the de-creasing order of their score</span>
        <span class="n">output_sequences</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">new_sequences</span><span class="p">,</span> <span class="n">key</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">val</span><span class="p">:</span> <span class="n">val</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">reverse</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>
        
        <span class="c1">#select top-k based on score </span>
        <span class="c1"># *Note- best sequence is with the highest score</span>
        <span class="n">output_sequences</span> <span class="o">=</span> <span class="n">output_sequences</span><span class="p">[:</span><span class="n">top_k</span><span class="p">]</span>
        
    <span class="k">return</span> <span class="n">output_sequences</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">decode_sequence_beam_search</span><span class="p">(</span><span class="n">input_seq</span><span class="p">):</span>
    <span class="n">probabilities</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="c1"># Encode the input as state vectors.</span>
    <span class="n">states_value</span> <span class="o">=</span> <span class="n">encoder_model</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">input_seq</span><span class="p">)</span>
    <span class="c1"># Generate empty target sequence of length 1.</span>
    <span class="n">target_seq</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">))</span>
    <span class="c1"># Populate the first character of target sequence with the start character.</span>
    <span class="n">target_seq</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">target_token_index</span><span class="p">[</span><span class="s1">'START_'</span><span class="p">]</span>

    <span class="c1"># Sampling loop for a batch of sequences</span>
    <span class="c1"># (to simplify, here we assume a batch of size 1).</span>
    <span class="n">stop_condition</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">decoded_sentence</span> <span class="o">=</span> <span class="s1">''</span>
    <span class="k">while</span> <span class="ow">not</span> <span class="n">stop_condition</span><span class="p">:</span>
        <span class="n">output_tokens</span><span class="p">,</span> <span class="n">h</span><span class="p">,</span> <span class="n">c</span> <span class="o">=</span> <span class="n">decoder_model</span><span class="o">.</span><span class="n">predict</span><span class="p">([</span><span class="n">target_seq</span><span class="p">]</span> <span class="o">+</span> <span class="n">states_value</span><span class="p">)</span>

        <span class="c1"># Sampling a token with max probability</span>
        <span class="n">sampled_token_index</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">argmax</span><span class="p">(</span><span class="n">output_tokens</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="p">:])</span>
        <span class="n">probabilities</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">output_tokens</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="p">:])</span>
         
        <span class="n">sampled_char</span> <span class="o">=</span> <span class="n">reverse_target_char_index</span><span class="p">[</span><span class="n">sampled_token_index</span><span class="p">]</span>
        <span class="n">decoded_sentence</span> <span class="o">+=</span> <span class="s1">' '</span><span class="o">+</span><span class="n">sampled_char</span>

        <span class="c1"># Exit condition: either hit max length</span>
        <span class="c1"># or find stop character.</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">sampled_char</span> <span class="o">==</span> <span class="s1">'_END'</span> <span class="ow">or</span>
           <span class="nb">len</span><span class="p">(</span><span class="n">decoded_sentence</span><span class="p">)</span> <span class="o">&gt;</span> <span class="n">max_length_tar</span><span class="p">):</span>
            <span class="n">stop_condition</span> <span class="o">=</span> <span class="kc">True</span>

        <span class="c1"># Update the target sequence (of length 1).</span>
        <span class="n">target_seq</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">))</span>
        <span class="n">target_seq</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">sampled_token_index</span>

        <span class="c1"># Update states</span>
        <span class="n">states_value</span> <span class="o">=</span> <span class="p">[</span><span class="n">h</span><span class="p">,</span> <span class="n">c</span><span class="p">]</span>

    <span class="c1"># storing multiple results</span>
    <span class="n">outputs</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">beam_search_preds</span> <span class="o">=</span> <span class="n">beam_search_decoder</span><span class="p">(</span><span class="n">probabilities</span><span class="p">,</span> <span class="n">top_k</span> <span class="o">=</span> <span class="mi">10</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">prob_indexes</span><span class="p">,</span> <span class="n">score</span> <span class="ow">in</span> <span class="n">beam_search_preds</span><span class="p">:</span>
        <span class="n">decoded_sentence</span> <span class="o">=</span> <span class="s1">''</span>
        <span class="k">for</span> <span class="n">index</span> <span class="ow">in</span> <span class="n">prob_indexes</span><span class="p">:</span>
            <span class="n">sampled_char</span> <span class="o">=</span> <span class="n">reverse_target_char_index</span><span class="p">[</span><span class="n">index</span><span class="p">]</span>
            <span class="n">decoded_sentence</span> <span class="o">+=</span> <span class="s1">' '</span><span class="o">+</span><span class="n">sampled_char</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">sampled_char</span> <span class="o">==</span> <span class="s1">'_END'</span> <span class="ow">or</span> <span class="nb">len</span><span class="p">(</span><span class="n">decoded_sentence</span><span class="p">)</span> <span class="o">&gt;</span> <span class="n">max_length_tar</span><span class="p">):</span>
                <span class="k">break</span>
        <span class="n">outputs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">decoded_sentence</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">outputs</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Utility-Function">
<a class="anchor" href="#Utility-Function" aria-hidden="true"><span class="octicon octicon-link"></span></a>Utility Function<a class="anchor-link" href="#Utility-Function"> </a>
</h3>
<p>Function that makes a request at <a href="https://mymemory.translated.net/">My Memory Translated</a> to get back the English translation of predicted Spanish sentence.</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">url</span> <span class="o">=</span> <span class="s2">"https://api.mymemory.translated.net/get"</span>

<span class="k">def</span> <span class="nf">get_translation</span><span class="p">(</span><span class="n">seq</span><span class="p">):</span>
    <span class="n">data</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="n">data</span><span class="p">[</span><span class="s2">"q"</span><span class="p">]</span> <span class="o">=</span> <span class="n">seq</span>
    <span class="n">data</span><span class="p">[</span><span class="s2">"langpair"</span><span class="p">]</span> <span class="o">=</span> <span class="s2">"es|en"</span>
    <span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">)</span>
    <span class="n">translated_text</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s2">"responseData"</span><span class="p">][</span><span class="s2">"translatedText"</span><span class="p">]</span>
    <span class="k">return</span> <span class="n">translated_text</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="White-Distance">
<a class="anchor" href="#White-Distance" aria-hidden="true"><span class="octicon octicon-link"></span></a>White Distance<a class="anchor-link" href="#White-Distance"> </a>
</h3>
<p>Metric to find similarity between two sentences</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">upper_case</span><span class="p">(</span><span class="n">s</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">s</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span>

<span class="k">def</span> <span class="nf">get_pairs</span><span class="p">(</span><span class="n">s</span><span class="p">):</span>
    <span class="n">pairs</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">words</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">' '</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">word</span> <span class="ow">in</span> <span class="n">words</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">idx</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">word</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">):</span>
            <span class="n">pairs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">word</span><span class="p">[</span><span class="n">idx</span><span class="p">:</span><span class="n">idx</span><span class="o">+</span><span class="mi">2</span><span class="p">])</span>
    <span class="k">return</span> <span class="n">pairs</span>

<span class="k">def</span> <span class="nf">get_similarity</span><span class="p">(</span><span class="n">s1</span><span class="p">,</span> <span class="n">s2</span><span class="p">):</span>
    <span class="n">s1</span> <span class="o">=</span> <span class="n">upper_case</span><span class="p">(</span><span class="n">s1</span><span class="p">)</span>
    <span class="n">s2</span> <span class="o">=</span> <span class="n">upper_case</span><span class="p">(</span><span class="n">s2</span><span class="p">)</span>
    <span class="n">p1</span> <span class="o">=</span> <span class="n">get_pairs</span><span class="p">(</span><span class="n">s1</span><span class="p">)</span>
    <span class="n">p2</span> <span class="o">=</span> <span class="n">get_pairs</span><span class="p">(</span><span class="n">s2</span><span class="p">)</span>
    <span class="n">nr</span> <span class="o">=</span> <span class="mi">2</span><span class="o">*</span><span class="nb">len</span><span class="p">(</span><span class="nb">list</span><span class="p">((</span><span class="n">Counter</span><span class="p">(</span><span class="n">p1</span><span class="p">)</span> <span class="o">&amp;</span> <span class="n">Counter</span><span class="p">(</span><span class="n">p2</span><span class="p">))</span><span class="o">.</span><span class="n">elements</span><span class="p">()))</span>
    <span class="n">dr</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">p1</span><span class="p">)</span><span class="o">+</span><span class="nb">len</span><span class="p">(</span><span class="n">p2</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">nr</span><span class="o">/</span><span class="n">dr</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Training-Data">
<a class="anchor" href="#Training-Data" aria-hidden="true"><span class="octicon octicon-link"></span></a>Training Data<a class="anchor-link" href="#Training-Data"> </a>
</h3>
</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">train_gen</span> <span class="o">=</span> <span class="n">generate_batch</span><span class="p">(</span><span class="n">X_train</span><span class="p">,</span> <span class="n">y_train</span><span class="p">,</span> <span class="n">batch_size</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span>
<span class="n">k</span><span class="o">=-</span><span class="mi">1</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">20</span><span class="p">):</span>
    <span class="n">k</span><span class="o">+=</span><span class="mi">1</span>
    <span class="p">(</span><span class="n">input_seq</span><span class="p">,</span> <span class="n">actual_output</span><span class="p">),</span> <span class="n">_</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="n">train_gen</span><span class="p">)</span>
    <span class="n">decoded_sentence</span> <span class="o">=</span> <span class="n">decode_sequence</span><span class="p">(</span><span class="n">input_seq</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">'Input Sentence:'</span><span class="p">,</span> <span class="n">X_train</span><span class="p">[</span><span class="n">k</span><span class="p">:</span><span class="n">k</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">'Actual Translation:'</span><span class="p">,</span> <span class="n">y_train</span><span class="p">[</span><span class="n">k</span><span class="p">:</span><span class="n">k</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">6</span><span class="p">:</span><span class="o">-</span><span class="mi">4</span><span class="p">])</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">'Predicted Translation (Spanish):'</span><span class="p">,</span> <span class="n">decoded_sentence</span><span class="p">[:</span><span class="o">-</span><span class="mi">4</span><span class="p">])</span>
    <span class="c1"># predicted spanish sequence back to english</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">'Predicted Translation (English):'</span><span class="p">,</span> <span class="n">get_translation</span><span class="p">(</span><span class="n">decoded_sentence</span><span class="p">[:</span><span class="o">-</span><span class="mi">4</span><span class="p">]))</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">"="</span><span class="o">*</span><span class="mi">60</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="s2">"</span><span class="se">\n\n</span><span class="s2">"</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>Input Sentence: do you know how to drive
Actual Translation:  ¿sabes conducir 
Predicted Translation (Spanish):  ¿sabes cómo se levante 
Predicted Translation (English): Do you know how to get up
============================================================

Input Sentence: it never happened
Actual Translation:  nunca pasó 
Predicted Translation (Spanish):  nunca sucedió 
Predicted Translation (English): It never happened.
============================================================

Input Sentence: i havent slept in days
Actual Translation:  no he dormido en días 
Predicted Translation (Spanish):  no dormí en dos años 
Predicted Translation (English): I did not sleep in two years
============================================================

Input Sentence: i hope you enjoy your flight
Actual Translation:  espero que disfrute del vuelo 
Predicted Translation (Spanish):  espero que te vayas a la leche 
Predicted Translation (English): I hope you go to milk
============================================================

Input Sentence: the doctor advised him to give up smoking
Actual Translation:  el médico le aconsejó que dejara de fumar 
Predicted Translation (Spanish):  el médico le aconsejó que dejara de fumar 
Predicted Translation (English): The doctor advised him to give up smoking.
============================================================

Input Sentence: tom sees things
Actual Translation:  tom ve cosas 
Predicted Translation (Spanish):  tom ve cosas 
Predicted Translation (English): Tom sees things.
============================================================

Input Sentence: do we have enough flour
Actual Translation:  ¿tenemos suficiente harina 
Predicted Translation (Spanish):  ¿tenemos suficiente para beber 
Predicted Translation (English): Do we have enough to drink
============================================================

Input Sentence: tom crawled into bed just before midnight
Actual Translation:  tom se arrastró a la cama justo antes de medianoche 
Predicted Translation (Spanish):  tom me quité la casa por un paseo 
Predicted Translation (English): tom i took off the house for a walk
============================================================

Input Sentence: im already sick
Actual Translation:  ya estoy enferma 
Predicted Translation (Spanish):  ya estoy enfermo 
Predicted Translation (English): I am sick
============================================================

Input Sentence: what will you do when you grow up
Actual Translation:  ¿qué harás cuando seas mayor 
Predicted Translation (Spanish):  ¿qué vas a poner en cuando crezcas 
Predicted Translation (English): What are you going to put in when you grow up
============================================================

Input Sentence: could you send me a brochure
Actual Translation:  ¿podrías enviarme un folleto 
Predicted Translation (Spanish):  ¿podrías enviarme un catálogo 
Predicted Translation (English): Could you send me a catalog
============================================================

Input Sentence: i assure you that an error like this will never happen again
Actual Translation:  te aseguro que un error así no sucederá nunca más 
Predicted Translation (Spanish):  te aseguro que no he leído ni un error por favor 
Predicted Translation (English): I assure you that I have not read a mistake please
============================================================

Input Sentence: tom shut himself up in his bedroom
Actual Translation:  tom se encerró en su cuarto 
Predicted Translation (Spanish):  tom se encerró en su habitación 
Predicted Translation (English): He locked himself up in his room.
============================================================

Input Sentence: get out
Actual Translation:  bájate 
Predicted Translation (Spanish):  salid 
Predicted Translation (English): come out
============================================================

Input Sentence: tom had a hunch that mary was seeing someone else
Actual Translation:  tom tuvo un presentimiento de que mary estaba viendo a alguien más 
Predicted Translation (Spanish):  tom tuvo una foto de que mary vino a verlo 
Predicted Translation (English): tom had a picture of mary coming to see him
============================================================

Input Sentence: tom unlocked his briefcase
Actual Translation:  tom abrió los cerrojos de su maletín 
Predicted Translation (Spanish):  tom abrió la foto 
Predicted Translation (English): tom opened the photo
============================================================

Input Sentence: how does the film end
Actual Translation:  ¿cómo termina la película 
Predicted Translation (Spanish):  ¿cómo se llama esa película 
Predicted Translation (English): What&amp;#39;s that movie called
============================================================

Input Sentence: a high school student made this robot
Actual Translation:  un estudiante de enseñanza media hizo este robot 
Predicted Translation (Spanish):  un estudiante de la lluvia es muy grande 
Predicted Translation (English): a rain student is very big
============================================================

Input Sentence: he is a good violinist
Actual Translation:  él es un buen violinista 
Predicted Translation (Spanish):  él es un buen nadador 
Predicted Translation (English): he is a good swimmer
============================================================

Input Sentence: what time do you get up on schooldays
Actual Translation:  ¿a qué hora te levantas en días de clase 
Predicted Translation (Spanish):  ¿a qué hora te levantas en australia 
Predicted Translation (English): What time do you get up in australia
============================================================

</pre>
</div>
</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">train_gen</span> <span class="o">=</span> <span class="n">generate_batch</span><span class="p">(</span><span class="n">X_train</span><span class="p">,</span> <span class="n">y_train</span><span class="p">,</span> <span class="n">batch_size</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span>
<span class="n">k</span><span class="o">=-</span><span class="mi">1</span>
<span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">20</span><span class="p">):</span>
    <span class="n">k</span><span class="o">+=</span><span class="mi">1</span>
    <span class="n">similarity_scores</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="p">(</span><span class="n">input_seq</span><span class="p">,</span> <span class="n">actual_output</span><span class="p">),</span> <span class="n">_</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="n">train_gen</span><span class="p">)</span>
    <span class="n">decoded_sentences</span> <span class="o">=</span> <span class="n">decode_sequence_beam_search</span><span class="p">(</span><span class="n">input_seq</span><span class="p">)</span>
    <span class="n">acutal_sentence</span> <span class="o">=</span> <span class="n">y_train</span><span class="p">[</span><span class="n">k</span><span class="p">:</span><span class="n">k</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">6</span><span class="p">:</span><span class="o">-</span><span class="mi">4</span><span class="p">]</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">'Input Sentence:'</span><span class="p">,</span> <span class="n">X_train</span><span class="p">[</span><span class="n">k</span><span class="p">:</span><span class="n">k</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">'Actual Translation:'</span><span class="p">,</span> <span class="n">acutal_sentence</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">idx</span><span class="p">,</span> <span class="n">pred</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">decoded_sentences</span><span class="p">):</span>
        <span class="n">similarity_scores</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">get_similarity</span><span class="p">(</span><span class="n">pred</span><span class="p">,</span> <span class="n">acutal_sentence</span><span class="p">))</span>
    <span class="n">dictionary</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">similarity_scores</span><span class="p">,</span> <span class="n">decoded_sentences</span><span class="p">))</span>
    <span class="n">dictionary</span> <span class="o">=</span> <span class="p">{</span><span class="n">k</span><span class="p">:</span> <span class="n">v</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">dictionary</span><span class="o">.</span><span class="n">items</span><span class="p">(),</span> 
                                          <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">item</span><span class="p">:</span> <span class="n">item</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> 
                                          <span class="n">reverse</span><span class="o">=</span><span class="kc">True</span><span class="p">)}</span>
    <span class="n">closest_sentence</span> <span class="o">=</span> <span class="n">decoded_sentences</span><span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">argmax</span><span class="p">(</span><span class="n">similarity_scores</span><span class="p">)]</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Closest Predicted Sentence (Spanish): </span><span class="si">{</span><span class="n">closest_sentence</span><span class="p">[:</span><span class="o">-</span><span class="mi">4</span><span class="p">]</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Closest Predicted Sentence (English): </span><span class="si">{</span><span class="n">get_translation</span><span class="p">(</span><span class="n">closest_sentence</span><span class="p">[:</span><span class="o">-</span><span class="mi">4</span><span class="p">])</span><span class="si">}</span><span class="s2">"</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="s2">"</span><span class="se">\n\n</span><span class="s2">"</span><span class="p">)</span>
    <span class="n">decoded_sentences</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">closest_sentence</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">idx</span><span class="p">,</span> <span class="n">pred</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">dictionary</span><span class="o">.</span><span class="n">values</span><span class="p">())[:</span><span class="mi">5</span><span class="p">]):</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">'Predicted Translation </span><span class="si">{</span><span class="n">idx</span><span class="si">}</span><span class="s1">: </span><span class="si">{</span><span class="n">pred</span><span class="p">[:</span><span class="o">-</span><span class="mi">4</span><span class="p">]</span><span class="si">}</span><span class="s1">'</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">"="</span><span class="o">*</span><span class="mi">30</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="s2">"</span><span class="se">\n\n</span><span class="s2">"</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>Input Sentence: do you know how to drive
Actual Translation:  ¿sabes conducir 
Closest Predicted Sentence (Spanish):  ¿sabes conducir se levante 
Closest Predicted Sentence (English): Do you know drive up get up

Predicted Translation 0:  ¿sabes cómo se ponga 
Predicted Translation 1:  ¿sabes cómo se muevan 
Predicted Translation 2:  ¿sabes cómo se levante 
Predicted Translation 3:  ¿sabes cómo manejar levante 
Predicted Translation 4:  ¿sabes cómo conducir ponga 
==============================

Input Sentence: it never happened
Actual Translation:  nunca pasó 
Closest Predicted Sentence (Spanish):  nunca pasó 
Closest Predicted Sentence (English): It never happened.

Predicted Translation 0:  nunca se 
Predicted Translation 1:  nunca pasó 
Predicted Translation 2:  nunca ocurrió 
Predicted Translation 3:  nunca hizo 
Predicted Translation 4:  nunca fue 
==============================

Input Sentence: i havent slept in days
Actual Translation:  no he dormido en días 
Closest Predicted Sentence (Spanish):  no dormí en dos días 
Closest Predicted Sentence (English): I did not sleep in two days

Predicted Translation 0:  no me nada dos años 
Predicted Translation 1:  no me en dos años 
Predicted Translation 2:  no he nada dos años 
Predicted Translation 3:  no he en dos años 
Predicted Translation 4:  no duermo nada dos años 
==============================

Input Sentence: i hope you enjoy your flight
Actual Translation:  espero que disfrute del vuelo 
Closest Predicted Sentence (Spanish):  espero que disfrute vayas a la leche 
Closest Predicted Sentence (English): I hope you enjoy going to milk

Predicted Translation 0:  espero que usted vayas a la leche 
Predicted Translation 1:  espero que te vayas a la clase 
Predicted Translation 2:  espero que te pongas a la clase 
Predicted Translation 3:  espero que te la a la clase 
Predicted Translation 4:  espero que disfrute vayas a la clase 
==============================

Input Sentence: the doctor advised him to give up smoking
Actual Translation:  el médico le aconsejó que dejara de fumar 
Closest Predicted Sentence (Spanish):  el médico le aconsejó que dejara de fumar 
Closest Predicted Sentence (English): The doctor advised him to give up smoking.

Predicted Translation 0:  el médico le dijo que dejara de fumar 
Predicted Translation 1:  el médico le aconsejó que dejara la fumar 
Predicted Translation 2:  el médico le aconsejó que dejara de fumar 
Predicted Translation 3:  el médico le aconsejó que dejara a fumar 
Predicted Translation 4:  el doctor le aconsejó que dejara lo fumar 
==============================

Input Sentence: tom sees things
Actual Translation:  tom ve cosas 
Closest Predicted Sentence (Spanish):  tom ve cosas 
Closest Predicted Sentence (English): Tom sees things.

Predicted Translation 0:  ¡tom ve cosas 
Predicted Translation 1:  tomás ve cosas 
Predicted Translation 2:  tom ve las 
Predicted Translation 3:  tom ve cosas 
Predicted Translation 4:  tom ve aquí 
==============================

Input Sentence: do we have enough flour
Actual Translation:  ¿tenemos suficiente harina 
Closest Predicted Sentence (Spanish):  ¿tenemos suficiente harina beber 
Closest Predicted Sentence (English): Do we have enough flour to drink

Predicted Translation 0:  ¿tenemos suficiente para un 
Predicted Translation 1:  ¿tenemos suficiente para principiantes 
Predicted Translation 2:  ¿tenemos suficiente para otra 
Predicted Translation 3:  ¿tenemos suficiente para escribir 
Predicted Translation 4:  ¿tenemos suficiente para beber 
==============================

Input Sentence: tom crawled into bed just before midnight
Actual Translation:  tom se arrastró a la cama justo antes de medianoche 
Closest Predicted Sentence (Spanish):  tom me quité la casa por un rato 
Closest Predicted Sentence (English): tom i took off the house for a while

Predicted Translation 0:  tom me quité la casa por un rato 
Predicted Translation 1:  tom me quité la casa por un paso 
Predicted Translation 2:  tom me quité la casa por un paseo 
Predicted Translation 3:  tom me quité la casa por paso paso 
Predicted Translation 4:  tom me quité la casa por paso paseo 
==============================

Input Sentence: im already sick
Actual Translation:  ya estoy enferma 
Closest Predicted Sentence (Spanish):  ya estoy enferma 
Closest Predicted Sentence (English): I am sick.

Predicted Translation 0:  ¡estoy estoy enfermo 
Predicted Translation 1:  yo estoy enfermo 
Predicted Translation 2:  yo estoy enferma 
Predicted Translation 3:  ya me enferma 
Predicted Translation 4:  ya estoy enferma 
==============================

Input Sentence: what will you do when you grow up
Actual Translation:  ¿qué harás cuando seas mayor 
Closest Predicted Sentence (Spanish):  ¿qué vas a quedar en cuando 
Closest Predicted Sentence (English): What are you going to stay on when

Predicted Translation 0:  ¿qué vas a quedar en cuando crezcas 
Predicted Translation 1:  ¿qué vas a quedar en cuando 
Predicted Translation 2:  ¿qué vas a poner en las crezcas 
Predicted Translation 3:  ¿qué vas a poner en cuando 
Predicted Translation 4:  ¿qué vas a estas en cuando crezcas 
==============================

Input Sentence: could you send me a brochure
Actual Translation:  ¿podrías enviarme un folleto 
Closest Predicted Sentence (Spanish):  ¿podrías enviarme un folleto 
Closest Predicted Sentence (English): Could you send me a brochure?

Predicted Translation 0:  ¿puedes enviarme un folleto 
Predicted Translation 1:  ¿puedes enviarme un catálogo 
Predicted Translation 2:  ¿podrías un un catálogo 
Predicted Translation 3:  ¿podrías traerme un catálogo 
Predicted Translation 4:  ¿podrías enviarme un folleto 
==============================

Input Sentence: i assure you that an error like this will never happen again
Actual Translation:  te aseguro que un error así no sucederá nunca más 
Closest Predicted Sentence (Spanish):  te aseguro que no hace leído un un error de favor 
Closest Predicted Sentence (English): I assure you that you do not read an error in favor

Predicted Translation 0:  te aseguro que no lo leído ni un error por favor 
Predicted Translation 1:  te aseguro que no he leído un un error por favor 
Predicted Translation 2:  te aseguro que no he leído un un error de favor 
Predicted Translation 3:  te aseguro que no he leído ni un periódico por f
Predicted Translation 4:  te aseguro que no he leído ni un error de favor 
==============================

Input Sentence: tom shut himself up in his bedroom
Actual Translation:  tom se encerró en su cuarto 
Closest Predicted Sentence (Spanish):  tom se encerró en su cuarto 
Closest Predicted Sentence (English): Tom locked himself in his room.

Predicted Translation 0:  tom se quedó en su habitación 
Predicted Translation 1:  tom se ocultó en su habitación 
Predicted Translation 2:  tom se escondió en su habitación 
Predicted Translation 3:  tom se enjuagó en su habitación 
Predicted Translation 4:  tom se encerró en su pieza 
==============================

Input Sentence: get out
Actual Translation:  bájate 
Closest Predicted Sentence (Spanish):  bájate 
Closest Predicted Sentence (English): Get down.

Predicted Translation 0:  ¡vete 
Predicted Translation 1:  ¡quédate 
Predicted Translation 2:  ¡despierta 
Predicted Translation 3:  mantente 
Predicted Translation 4:  bájate 
==============================

Input Sentence: tom had a hunch that mary was seeing someone else
Actual Translation:  tom tuvo un presentimiento de que mary estaba viendo a alguien más 
Closest Predicted Sentence (Spanish):  tom tuvo una foto de que mary estaba a verlo 
Closest Predicted Sentence (English): Tom had a picture that Mary was seeing him

Predicted Translation 0:  tom tuvo una reunión de que mary vino a verlo 
Predicted Translation 1:  tom tuvo una reunión de mary mary vino a verlo 
Predicted Translation 2:  tom tuvo una foto de que mary vino a verlo 
Predicted Translation 3:  tom tuvo una foto de que mary vino a la 
Predicted Translation 4:  tom tuvo una foto de que mary lo a verlo 
==============================

Input Sentence: tom unlocked his briefcase
Actual Translation:  tom abrió los cerrojos de su maletín 
Closest Predicted Sentence (Spanish):  tom abrió la imagen 
Closest Predicted Sentence (English): tom opened the image

Predicted Translation 0:  tom abrió la primera 
Predicted Translation 1:  tom abrió la oportunidad 
Predicted Translation 2:  tom abrió la llave 
Predicted Translation 3:  tom abrió la imagen 
Predicted Translation 4:  tom abrió la fotografía 
==============================

Input Sentence: how does the film end
Actual Translation:  ¿cómo termina la película 
Closest Predicted Sentence (Spanish):  ¿cómo se llama esa película 
Closest Predicted Sentence (English): What&amp;#39;s that movie called

Predicted Translation 0:  ¿cómo se ve esa película 
Predicted Translation 1:  ¿cómo se va esta película 
Predicted Translation 2:  ¿cómo se utiliza esa película 
Predicted Translation 3:  ¿cómo se recoge esa película 
Predicted Translation 4:  ¿cómo se llamaba esa película 
==============================

Input Sentence: a high school student made this robot
Actual Translation:  un estudiante de enseñanza media hizo este robot 
Closest Predicted Sentence (Spanish):  un estudiante de la lluvia está muy grande 
Closest Predicted Sentence (English): a rain student is very big

Predicted Translation 0:  un estudiante de la lluvia no muy grande 
Predicted Translation 1:  un estudiante de la lluvia está muy grande 
Predicted Translation 2:  un estudiante de la lluvia es muy grande 
Predicted Translation 3:  un estudiante de la lluvia es muy de 
Predicted Translation 4:  un estudiante de la lluvia es muy bueno 
==============================

Input Sentence: he is a good violinist
Actual Translation:  él es un buen violinista 
Closest Predicted Sentence (Spanish):  él es un buen violinista 
Closest Predicted Sentence (English): He is a good violinist.

Predicted Translation 0:  él es un buen violinista 
Predicted Translation 1:  él es un buen vecino 
Predicted Translation 2:  él es un buen pianista 
Predicted Translation 3:  él es un buen nadador 
Predicted Translation 4:  él es un buen escritor 
==============================

Input Sentence: what time do you get up on schooldays
Actual Translation:  ¿a qué hora te levantas en días de clase 
Closest Predicted Sentence (Spanish):  ¿a qué hora te levantas en las 
Closest Predicted Sentence (English): What time do you get up

Predicted Translation 0:  ¿a qué hora te levantas por el 
Predicted Translation 1:  ¿a qué hora te levantas por australia 
Predicted Translation 2:  ¿a qué hora te levantas en unos 
Predicted Translation 3:  ¿a qué hora te levantas en las 
Predicted Translation 4:  ¿a qué hora te levantas en el 
==============================

</pre>
</div>
</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The combination of <code>White Distance</code> and <code>Beam search</code> with width 10 definitely. For exmaple - compare the result of greedy search (previous cell) vs the above combination (this cell) for some of the sentences. You would notice, that we get more and more closer to the acutal translation.</p>
<p>Example 1</p>
<div class="highlight"><pre><span></span><span class="c1"># greedy </span>
<span class="n">Input</span> <span class="n">Sentence</span><span class="p">:</span> <span class="n">what</span> <span class="n">time</span> <span class="n">do</span> <span class="n">you</span> <span class="n">get</span> <span class="n">up</span> <span class="n">on</span> <span class="n">schooldays</span>
<span class="n">Actual</span> <span class="n">Translation</span><span class="p">:</span>  <span class="err">¿</span><span class="n">a</span> <span class="n">qué</span> <span class="n">hora</span> <span class="n">te</span> <span class="n">levantas</span> <span class="n">en</span> <span class="n">días</span> <span class="n">de</span> <span class="n">clase</span> 
<span class="n">Predicted</span> <span class="n">Translation</span> <span class="p">(</span><span class="n">Spanish</span><span class="p">):</span>  <span class="err">¿</span><span class="n">a</span> <span class="n">qué</span> <span class="n">hora</span> <span class="n">te</span> <span class="n">levantas</span> <span class="n">en</span> <span class="n">australia</span> 
<span class="n">Predicted</span> <span class="n">Translation</span> <span class="p">(</span><span class="n">English</span><span class="p">):</span> <span class="n">What</span> <span class="n">time</span> <span class="n">do</span> <span class="n">you</span> <span class="n">get</span> <span class="n">up</span> <span class="ow">in</span> <span class="n">australia</span>
</pre></div>
<div class="highlight"><pre><span></span><span class="c1"># beam search + white distance</span>
<span class="n">Input</span> <span class="n">Sentence</span><span class="p">:</span> <span class="n">what</span> <span class="n">time</span> <span class="n">do</span> <span class="n">you</span> <span class="n">get</span> <span class="n">up</span> <span class="n">on</span> <span class="n">schooldays</span>
<span class="n">Actual</span> <span class="n">Translation</span><span class="p">:</span>  <span class="err">¿</span><span class="n">a</span> <span class="n">qué</span> <span class="n">hora</span> <span class="n">te</span> <span class="n">levantas</span> <span class="n">en</span> <span class="n">días</span> <span class="n">de</span> <span class="n">clase</span> 
<span class="n">Closest</span> <span class="n">Predicted</span> <span class="n">Sentence</span> <span class="p">(</span><span class="n">Spanish</span><span class="p">):</span>  <span class="err">¿</span><span class="n">a</span> <span class="n">qué</span> <span class="n">hora</span> <span class="n">te</span> <span class="n">levantas</span> <span class="n">en</span> <span class="n">las</span> 
<span class="n">Closest</span> <span class="n">Predicted</span> <span class="n">Sentence</span> <span class="p">(</span><span class="n">English</span><span class="p">):</span> <span class="n">What</span> <span class="n">time</span> <span class="n">do</span> <span class="n">you</span> <span class="n">get</span> <span class="n">up</span>
</pre></div>
<p>Example 2</p>
<div class="highlight"><pre><span></span><span class="c1"># greedy</span>
<span class="n">Input</span> <span class="n">Sentence</span><span class="p">:</span> <span class="n">he</span> <span class="ow">is</span> <span class="n">a</span> <span class="n">good</span> <span class="n">violinist</span>
<span class="n">Actual</span> <span class="n">Translation</span><span class="p">:</span>  <span class="n">él</span> <span class="n">es</span> <span class="n">un</span> <span class="n">buen</span> <span class="n">violinista</span> 
<span class="n">Predicted</span> <span class="n">Translation</span> <span class="p">(</span><span class="n">Spanish</span><span class="p">):</span>  <span class="n">él</span> <span class="n">es</span> <span class="n">un</span> <span class="n">buen</span> <span class="n">nadador</span> 
<span class="n">Predicted</span> <span class="n">Translation</span> <span class="p">(</span><span class="n">English</span><span class="p">):</span> <span class="n">he</span> <span class="ow">is</span> <span class="n">a</span> <span class="n">good</span> <span class="n">swimmer</span>
</pre></div>
<div class="highlight"><pre><span></span><span class="c1"># beam search + white distance</span>
<span class="n">Input</span> <span class="n">Sentence</span><span class="p">:</span> <span class="n">he</span> <span class="ow">is</span> <span class="n">a</span> <span class="n">good</span> <span class="n">violinist</span>
<span class="n">Actual</span> <span class="n">Translation</span><span class="p">:</span>  <span class="n">él</span> <span class="n">es</span> <span class="n">un</span> <span class="n">buen</span> <span class="n">violinista</span> 
<span class="n">Closest</span> <span class="n">Predicted</span> <span class="n">Sentence</span> <span class="p">(</span><span class="n">Spanish</span><span class="p">):</span>  <span class="n">él</span> <span class="n">es</span> <span class="n">un</span> <span class="n">buen</span> <span class="n">violinista</span> 
<span class="n">Closest</span> <span class="n">Predicted</span> <span class="n">Sentence</span> <span class="p">(</span><span class="n">English</span><span class="p">):</span> <span class="n">He</span> <span class="ow">is</span> <span class="n">a</span> <span class="n">good</span> <span class="n">violinist</span><span class="o">.</span>
</pre></div>
<p>Example 3</p>
<div class="highlight"><pre><span></span><span class="c1"># greedy</span>
<span class="n">Input</span> <span class="n">Sentence</span><span class="p">:</span> <span class="n">i</span> <span class="n">havent</span> <span class="n">slept</span> <span class="ow">in</span> <span class="n">days</span>
<span class="n">Actual</span> <span class="n">Translation</span><span class="p">:</span>  <span class="n">no</span> <span class="n">he</span> <span class="n">dormido</span> <span class="n">en</span> <span class="n">días</span> 
<span class="n">Predicted</span> <span class="n">Translation</span> <span class="p">(</span><span class="n">Spanish</span><span class="p">):</span>  <span class="n">no</span> <span class="n">dormí</span> <span class="n">en</span> <span class="n">dos</span> <span class="n">años</span> 
<span class="n">Predicted</span> <span class="n">Translation</span> <span class="p">(</span><span class="n">English</span><span class="p">):</span> <span class="n">I</span> <span class="n">did</span> <span class="ow">not</span> <span class="n">sleep</span> <span class="ow">in</span> <span class="n">two</span> <span class="n">years</span>
</pre></div>
<div class="highlight"><pre><span></span><span class="c1"># beam search + white distance</span>
<span class="n">Input</span> <span class="n">Sentence</span><span class="p">:</span> <span class="n">i</span> <span class="n">havent</span> <span class="n">slept</span> <span class="ow">in</span> <span class="n">days</span>
<span class="n">Actual</span> <span class="n">Translation</span><span class="p">:</span>  <span class="n">no</span> <span class="n">he</span> <span class="n">dormido</span> <span class="n">en</span> <span class="n">días</span> 
<span class="n">Closest</span> <span class="n">Predicted</span> <span class="n">Sentence</span> <span class="p">(</span><span class="n">Spanish</span><span class="p">):</span>  <span class="n">no</span> <span class="n">dormí</span> <span class="n">en</span> <span class="n">dos</span> <span class="n">días</span> 
<span class="n">Closest</span> <span class="n">Predicted</span> <span class="n">Sentence</span> <span class="p">(</span><span class="n">English</span><span class="p">):</span> <span class="n">I</span> <span class="n">did</span> <span class="ow">not</span> <span class="n">sleep</span> <span class="ow">in</span> <span class="n">two</span> <span class="n">days</span>
</pre></div>
<p>Here, <em>days</em> seems to be correct instead of <em>years</em></p>
<p>Example 4</p>
<div class="highlight"><pre><span></span><span class="c1"># greedy</span>
<span class="n">Input</span> <span class="n">Sentence</span><span class="p">:</span> <span class="n">could</span> <span class="n">you</span> <span class="n">send</span> <span class="n">me</span> <span class="n">a</span> <span class="n">brochure</span>
<span class="n">Actual</span> <span class="n">Translation</span><span class="p">:</span>  <span class="err">¿</span><span class="n">podrías</span> <span class="n">enviarme</span> <span class="n">un</span> <span class="n">folleto</span> 
<span class="n">Predicted</span> <span class="n">Translation</span> <span class="p">(</span><span class="n">Spanish</span><span class="p">):</span>  <span class="err">¿</span><span class="n">podrías</span> <span class="n">enviarme</span> <span class="n">un</span> <span class="n">catálogo</span> 
<span class="n">Predicted</span> <span class="n">Translation</span> <span class="p">(</span><span class="n">English</span><span class="p">):</span> <span class="n">Could</span> <span class="n">you</span> <span class="n">send</span> <span class="n">me</span> <span class="n">a</span> <span class="n">catalog</span>
</pre></div>
<div class="highlight"><pre><span></span><span class="c1"># beam search + white distance</span>
<span class="n">Input</span> <span class="n">Sentence</span><span class="p">:</span> <span class="n">could</span> <span class="n">you</span> <span class="n">send</span> <span class="n">me</span> <span class="n">a</span> <span class="n">brochure</span>
<span class="n">Actual</span> <span class="n">Translation</span><span class="p">:</span>  <span class="err">¿</span><span class="n">podrías</span> <span class="n">enviarme</span> <span class="n">un</span> <span class="n">folleto</span> 
<span class="n">Closest</span> <span class="n">Predicted</span> <span class="n">Sentence</span> <span class="p">(</span><span class="n">Spanish</span><span class="p">):</span>  <span class="err">¿</span><span class="n">podrías</span> <span class="n">enviarme</span> <span class="n">un</span> <span class="n">folleto</span> 
<span class="n">Closest</span> <span class="n">Predicted</span> <span class="n">Sentence</span> <span class="p">(</span><span class="n">English</span><span class="p">):</span> <span class="n">Could</span> <span class="n">you</span> <span class="n">send</span> <span class="n">me</span> <span class="n">a</span> <span class="n">brochure</span><span class="err">?</span>
</pre></div>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Testing-Data">
<a class="anchor" href="#Testing-Data" aria-hidden="true"><span class="octicon octicon-link"></span></a>Testing Data<a class="anchor-link" href="#Testing-Data"> </a>
</h3>
</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">val_gen</span> <span class="o">=</span> <span class="n">generate_batch</span><span class="p">(</span><span class="n">X_test</span><span class="p">,</span> <span class="n">y_test</span><span class="p">,</span> <span class="n">batch_size</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span>
<span class="n">k</span><span class="o">=-</span><span class="mi">1</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">20</span><span class="p">):</span>
    <span class="n">k</span><span class="o">+=</span><span class="mi">1</span>
    <span class="p">(</span><span class="n">input_seq</span><span class="p">,</span> <span class="n">actual_output</span><span class="p">),</span> <span class="n">_</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="n">val_gen</span><span class="p">)</span>
    <span class="n">decoded_sentence</span> <span class="o">=</span> <span class="n">decode_sequence</span><span class="p">(</span><span class="n">input_seq</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">'Input Sentence:'</span><span class="p">,</span> <span class="n">X_test</span><span class="p">[</span><span class="n">k</span><span class="p">:</span><span class="n">k</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">'Actual Translation:'</span><span class="p">,</span> <span class="n">y_test</span><span class="p">[</span><span class="n">k</span><span class="p">:</span><span class="n">k</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">6</span><span class="p">:</span><span class="o">-</span><span class="mi">4</span><span class="p">])</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">'Predicted Translation (Spanish):'</span><span class="p">,</span> <span class="n">decoded_sentence</span><span class="p">[:</span><span class="o">-</span><span class="mi">4</span><span class="p">])</span>
    <span class="c1"># predicted spanish sequence back to english</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">'Predicted Translation (English):'</span><span class="p">,</span> <span class="n">get_translation</span><span class="p">(</span><span class="n">decoded_sentence</span><span class="p">[:</span><span class="o">-</span><span class="mi">4</span><span class="p">]))</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">"="</span><span class="o">*</span><span class="mi">60</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="s2">"</span><span class="se">\n\n</span><span class="s2">"</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>Input Sentence: we work every day but sunday
Actual Translation:  trabajamos todos los días excepto el domingo 
Predicted Translation (Spanish):  trabajamos todos los días excepto los domingos 
Predicted Translation (English): We work every day but Sunday.
============================================================

Input Sentence: does tom want a car
Actual Translation:  ¿tomás quiere un auto 
Predicted Translation (Spanish):  ¿tom quiere un coche 
Predicted Translation (English): Does tom want a car
============================================================

Input Sentence: i was surprised that tom spoke french so well
Actual Translation:  me sorprendió que tomás hablase francés tan bien 
Predicted Translation (Spanish):  me sorprendió que tom estaba y yo nunca más 
Predicted Translation (English): I was surprised that Tom was and I was never again
============================================================

Input Sentence: tom asked mary for help
Actual Translation:  tom le pidió ayuda a mary 
Predicted Translation (Spanish):  tom le pidió ayuda a mary 
Predicted Translation (English): Tom asked Mary for help.
============================================================

Input Sentence: say cheese
Actual Translation:  di patata 
Predicted Translation (Spanish):  decid patata 
Predicted Translation (English): Say cheese.
============================================================

Input Sentence: some of these young people have legs twice as long as mine
Actual Translation:  algunos de estos jóvenes tienen las piernas el doble de largas que las mías 
Predicted Translation (Spanish):  algunas personas murieron mucho de veces más tarde
Predicted Translation (English): some people died a lot of times later
============================================================

Input Sentence: i dont care what she eats
Actual Translation:  no me interesa lo que ella coma 
Predicted Translation (Spanish):  no me importa lo que tú 
Predicted Translation (English): Would it move you enough
============================================================

Input Sentence: i will have to tell him the truth tomorrow
Actual Translation:  tendré que decirle la verdad mañana 
Predicted Translation (Spanish):  me encargaré de que quieras 
Predicted Translation (English): I&amp;#39;ll take care of what you want
============================================================

Input Sentence: weve never lived here
Actual Translation:  nunca hemos vivido aquí 
Predicted Translation (Spanish):  ya no hemos vivido aquí 
Predicted Translation (English): we have not lived here anymore
============================================================

Input Sentence: tom and mary couldnt move the heavy trunk
Actual Translation:  tom y mary no podían mover el pesado tronco 
Predicted Translation (Spanish):  tom y mary no pudieron defenderse por la salud 
Predicted Translation (English): tom and mary couldn&amp;#39;t defend themselves for health
============================================================

Input Sentence: what subject do you like best
Actual Translation:  ¿cuál es la asignatura que más te gusta 
Predicted Translation (Spanish):  ¿qué es tu cosa que te gusta 
Predicted Translation (English): What is your thing that you like
============================================================

Input Sentence: he repeated his question
Actual Translation:  él repitió su pregunta 
Predicted Translation (Spanish):  él pagó su pregunta 
Predicted Translation (English): he paid his question
============================================================

Input Sentence: my brother bought a used car so it wasnt very expensive
Actual Translation:  mi hermano compró un auto usado así que no era muy caro 
Predicted Translation (Spanish):  mi hermano menor compró un vestido muy inteligente
Predicted Translation (English): my younger brother bought a very smart dress
============================================================

Input Sentence: croatia is a country located in the southeastern part of europe
Actual Translation:  croacia es un país situado en el sudeste de europa 
Predicted Translation (Spanish):  croacia es un país en el país por favor 
Predicted Translation (English): croatia is a country in the country please
============================================================

Input Sentence: he will come if you call him
Actual Translation:  él vendrá si tú le llamas 
Predicted Translation (Spanish):  él vendrá si te va a la mano 
Predicted Translation (English): he will come if it goes to your hand
============================================================

Input Sentence: of course you can take it if you want
Actual Translation:  por supuesto que puedes tomarlo sí quieres 
Predicted Translation (Spanish):  por lo puedes hacer por favor llámeme 
Predicted Translation (English): so can you please call me
============================================================

Input Sentence: tom shouldnt have made mary angry
Actual Translation:  tom no debió haber hecho enfadar a mary 
Predicted Translation (Spanish):  tom no debería haber estado haciendo hasta mary 
Predicted Translation (English): tom shouldn&amp;#39;t have been doing until mary
============================================================

Input Sentence: you look stupid
Actual Translation:  pareces estúpido 
Predicted Translation (Spanish):  pareces un tonto 
Predicted Translation (English): you look like a fool
============================================================

Input Sentence: mary was a tomboy
Actual Translation:  mary era un chicazo 
Predicted Translation (Spanish):  mary es un chicazo 
Predicted Translation (English): Mary is a guy
============================================================

Input Sentence: i think youre the only one who cares
Actual Translation:  yo creo que usted es el único al que le importa 
Predicted Translation (Spanish):  creo que eres la única a la decisión 
Predicted Translation (English): I think you are the only one to decide
============================================================

</pre>
</div>
</div>

</div>
</div>

</div>
    

</div>



  </div><!-- from https://github.com/utterance/utterances -->
<script src="https://utteranc.es/client.js"
        repo="adimyth/notes"
        issue-term="title"
        label="blogpost-comment"
        theme="github-light"
        crossorigin="anonymous"
        async>
</script><a class="u-url" href="/notes/seq2seq/nlp/machine-translation/2020/08/11/Seq2Seq.html" hidden></a>
</article>
      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/notes/"></data>

  <div class="wrapper">

    <div class="footer-col-wrapper">
      <div class="footer-col">
        <p class="feed-subscribe">
          <a href="/notes/feed.xml">
            <svg class="svg-icon orange">
              <use xlink:href="/notes/assets/minima-social-icons.svg#rss"></use>
            </svg><span>Subscribe</span>
          </a>
        </p>
        <ul class="contact-list">
          <li class="p-name">Aditya Mishra</li>
          <li><a class="u-email" href="mailto:mishraaditya6991@gmail.com">mishraaditya6991@gmail.com</a></li>
        </ul>
      </div>
      <div class="footer-col">
        <p>Documenting all my learning notes here. Contains notes from different MOOCs, Blogs &amp; Other YouTube Videos.</p>
      </div>
    </div>

    <div class="social-links"><ul class="social-media-list"><li><a rel="me" href="https://github.com/adimyth" title="adimyth"><svg class="svg-icon grey"><use xlink:href="/notes/assets/minima-social-icons.svg#github"></use></svg></a></li><li><a rel="me" href="https://twitter.com/adi_myth" title="adi_myth"><svg class="svg-icon grey"><use xlink:href="/notes/assets/minima-social-icons.svg#twitter"></use></svg></a></li></ul>
</div>

  </div>

</footer>
</body>

</html>
